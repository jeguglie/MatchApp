(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{361:function(e,t,a){e.exports=a(675)},640:function(e,t,a){},641:function(e,t,a){},672:function(e,t){},675:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(57),i=a.n(o),s=a(7),c=a.n(s),l=a(10),u=a(17),d=a(18),m=a(19),p=a(20),h=a(21),f=a(62),g=a(32),v=a(16),w=a(27),C=a.n(w),y={"Content-Type":"application/json"},k="http://localhost:5000",E=function(e){return C.a.post("".concat(k,"/reportuser"),{user_id_reported:e},{withCredentials:"true",headers:y})},b=function(e){return C.a.post("".concat(k,"/deletenotif"),{id_notif:e},{withCredentials:"true",headers:y})},_=function(e){return C.a.post("".concat(k,"/reportuserhide"),{user_id_reported:e},{withCredentials:"true",headers:y})},O=function(e){return C.a.post("".concat(k,"/reportuserfake"),{user_id_reported:e},{withCredentials:"true",headers:y})},S=function(e,t){return C.a.post("".concat(k,"/updategeolocate"),{latitude:e,longitude:t},{withCredentials:"true",headers:y})},j=function(e,t){return C.a.post("".concat(k,"/changemyemail"),{email:e,emailconfirm:t},{withCredentials:"true",headers:y})},N=function(e){return C.a.post("".concat(k,"/activeaccount"),{token:e})},x=function(e,t,a){return C.a.post("".concat(k,"/changepassword"),{token:e,password:t,passwordconfirm:a},{withCredentials:"true",headers:y})},R=function(e){return C.a.post("".concat(k,"/userforgot"),{email:e})},I=function(e,t){return C.a.post("".concat(k,"/login"),{email:e,password:t},{withCredentials:"true",headers:y})},M=function(e,t,a,n,r,o){return C.a.post("".concat(k,"/signup"),{lastname:e,firstname:t,email:a,username:n,password:r,cpassword:o},{headers:y})},P=function(e){return C.a.post("".concat(k,"/updateEditProfilValues"),{state:e},{withCredentials:"true",headers:y})},z=function(e){return C.a.post("".concat(k,"/getEditProfilValues"),{user_id:e},{withCredentials:"true",headers:y})},A=function(){return C.a.post("".concat(k,"/getPhotos"),{},{withCredentials:"true",headers:y})},F=function(e){return C.a.post("".concat(k,"/addInterests"),{interest:e},{withCredentials:"true",headers:y})},D=function(){return C.a.post("".concat(k,"/getInterests"),{},{withCredentials:"true",headers:y})},L=function(){return C.a.post("".concat(k,"/getUserInterests"),{},{withCredentials:"true",headers:y})},U=function(){return C.a.post("".concat(k,"/getComplete"),{},{withCredentials:"true",headers:y})},B=function(){return C.a.get("".concat(k,"/checkToken"),{withCredentials:"true",headers:y})},T=function(e){return C.a.post("".concat(k,"/deleteInterest"),{data:e},{withCredentials:"true",headers:y})},H=function(e){return C.a.post("".concat(k,"/deleteImage"),{imgID:e},{withCredentials:"true",headers:y})},W=function(e,t,a,n){return C.a.post("".concat(k,"/getUsers"),{distanceRange:e,ageRange:t,popularityRange:a,interests:n},{withCredentials:"true",headers:y})},G=function(){return C.a.post("".concat(k,"/checkUserView"),{},{withCredentials:"true",headers:y})},V=function(e){return C.a.post("".concat(k,"/getUserIdProfile"),{userId:e},{withCredentials:"true",headers:y})},q=function(e){return C.a.post("".concat(k,"/userLike"),{userLikedID:e},{withCredentials:"true",headers:y})},Y=function(){return C.a.get("".concat(k,"/getNotifications"),{withCredentials:"true",headers:y})},K=function(){return C.a.get("".concat(k,"/getNotifNb"),{withCredentials:"true",headers:y})},Z=function(){return C.a.get("".concat(k,"/logout"),{withCredentials:"true",headers:y})},J=a(685),$=a(705),Q=a(686),X=a(687),ee=a(352),te=a(704),ae=a(697),ne=a(676);var re=function(e){return Array.isArray(e.data)&&e.data.length>0?e.data.map((function(e,t){return r.a.createElement("span",{key:t},e)})):null},oe=a(351),ie=[{value:"Afghanistan",countryCode:"af"},{value:"Aland Islands",countryCode:"ax"},{value:"Albania",countryCode:"al"},{value:"Algeria",countryCode:"dz"},{value:"American Samoa",countryCode:"as"},{value:"Andorra",countryCode:"ad"},{value:"Angola",countryCode:"ao"},{value:"Anguilla",countryCode:"ai"},{value:"Antigua",countryCode:"ag"},{value:"Argentina",countryCode:"ar"},{value:"Armenia",countryCode:"am"},{value:"Aruba",countryCode:"aw"},{value:"Australia",countryCode:"au"},{value:"Austria",countryCode:"at"},{value:"Azerbaijan",countryCode:"az"},{value:"Bahamas",countryCode:"bs"},{value:"Bahrain",countryCode:"bh"},{value:"Bangladesh",countryCode:"bd"},{value:"Barbados",countryCode:"bb"},{value:"Belarus",countryCode:"by"},{value:"Belgium",countryCode:"be"},{value:"Belize",countryCode:"bz"},{value:"Benin",countryCode:"bj"},{value:"Bermuda",countryCode:"bm"},{value:"Bhutan",countryCode:"bt"},{value:"Bolivia",countryCode:"bo"},{value:"Bosnia",countryCode:"ba"},{value:"Botswana",countryCode:"bw"},{value:"Bouvet Island",countryCode:"bv"},{value:"Brazil",countryCode:"br"},{value:"British Virgin Islands",countryCode:"vg"},{value:"Brunei",countryCode:"bn"},{value:"Bulgaria",countryCode:"bg"},{value:"Burkina Faso",countryCode:"bf"},{value:"Burma",countryCode:"mm",alias:"Myanmar"},{value:"Burundi",countryCode:"bi"},{value:"Caicos Islands",countryCode:"tc"},{value:"Cambodia",countryCode:"kh"},{value:"Cameroon",countryCode:"cm"},{value:"Canada",countryCode:"ca"},{value:"Cape Verde",countryCode:"cv"},{value:"Cayman Islands",countryCode:"ky"},{value:"Central African Republic",countryCode:"cf"},{value:"Chad",countryCode:"td"},{value:"Chile",countryCode:"cl"},{value:"China",countryCode:"cn"},{value:"Christmas Island",countryCode:"cx"},{value:"Cocos Islands",countryCode:"cc"},{value:"Colombia",countryCode:"co"},{value:"Comoros",countryCode:"km"},{value:"Congo",countryCode:"cd"},{value:"Congo Brazzaville",countryCode:"cg"},{value:"Cook Islands",countryCode:"ck"},{value:"Costa Rica",countryCode:"cr"},{value:"Cote Divoire",countryCode:"ci"},{value:"Croatia",countryCode:"hr"},{value:"Cuba",countryCode:"cu"},{value:"Cyprus",countryCode:"cy"},{value:"Czech Republic",countryCode:"cz"},{value:"Denmark",countryCode:"dk"},{value:"Djibouti",countryCode:"dj"},{value:"Dominica",countryCode:"dm"},{value:"Dominican Republic",countryCode:"do"},{value:"Ecuador",countryCode:"ec"},{value:"Egypt",countryCode:"eg"},{value:"El Salvador",countryCode:"sv"},{value:"Equatorial Guinea",countryCode:"gq"},{value:"Eritrea",countryCode:"er"},{value:"Estonia",countryCode:"ee"},{value:"Ethiopia",countryCode:"et"},{value:"Europeanunion",countryCode:"eu"},{value:"Falkland Islands",countryCode:"fk"},{value:"Faroe Islands",countryCode:"fo"},{value:"Fiji",countryCode:"fj"},{value:"Finland",countryCode:"fi"},{value:"France",countryCode:"fr"},{value:"French Guiana",countryCode:"gf"},{value:"French Polynesia",countryCode:"pf"},{value:"French Territories",countryCode:"tf"},{value:"Gabon",countryCode:"ga"},{value:"Gambia",countryCode:"gm"},{value:"Georgia",countryCode:"ge"},{value:"Germany",countryCode:"de"},{value:"Ghana",countryCode:"gh"},{value:"Gibraltar",countryCode:"gi"},{value:"Greece",countryCode:"gr"},{value:"Greenland",countryCode:"gl"},{value:"Grenada",countryCode:"gd"},{value:"Guadeloupe",countryCode:"gp"},{value:"Guam",countryCode:"gu"},{value:"Guatemala",countryCode:"gt"},{value:"Guinea",countryCode:"gn"},{value:"Guinea-Bissau",countryCode:"gw"},{value:"Guyana",countryCode:"gy"},{value:"Haiti",countryCode:"ht"},{value:"Heard Island",countryCode:"hm"},{value:"Honduras",countryCode:"hn"},{value:"Hong Kong",countryCode:"hk"},{value:"Hungary",countryCode:"hu"},{value:"Iceland",countryCode:"is"},{value:"India",countryCode:"in"},{value:"Indian Ocean Territory",countryCode:"io"},{value:"Indonesia",countryCode:"id"},{value:"Iran",countryCode:"ir"},{value:"Iraq",countryCode:"iq"},{value:"Ireland",countryCode:"ie"},{value:"Israel",countryCode:"il"},{value:"Italy",countryCode:"it"},{value:"Jamaica",countryCode:"jm"},{value:"Jan Mayen",countryCode:"sj",alias:"Svalbard"},{value:"Japan",countryCode:"jp"},{value:"Jordan",countryCode:"jo"},{value:"Kazakhstan",countryCode:"kz"},{value:"Kenya",countryCode:"ke"},{value:"Kiribati",countryCode:"ki"},{value:"Kuwait",countryCode:"kw"},{value:"Kyrgyzstan",countryCode:"kg"},{value:"Laos",countryCode:"la"},{value:"Latvia",countryCode:"lv"},{value:"Lebanon",countryCode:"lb"},{value:"Lesotho",countryCode:"ls"},{value:"Liberia",countryCode:"lr"},{value:"Libya",countryCode:"ly"},{value:"Liechtenstein",countryCode:"li"},{value:"Lithuania",countryCode:"lt"},{value:"Luxembourg",countryCode:"lu"},{value:"Macau",countryCode:"mo"},{value:"Macedonia",countryCode:"mk"},{value:"Madagascar",countryCode:"mg"},{value:"Malawi",countryCode:"mw"},{value:"Malaysia",countryCode:"my"},{value:"Maldives",countryCode:"mv"},{value:"Mali",countryCode:"ml"},{value:"Malta",countryCode:"mt"},{value:"Marshall Islands",countryCode:"mh"},{value:"Martinique",countryCode:"mq"},{value:"Mauritania",countryCode:"mr"},{value:"Mauritius",countryCode:"mu"},{value:"Mayotte",countryCode:"yt"},{value:"Mexico",countryCode:"mx"},{value:"Micronesia",countryCode:"fm"},{value:"Moldova",countryCode:"md"},{value:"Monaco",countryCode:"mc"},{value:"Mongolia",countryCode:"mn"},{value:"Montenegro",countryCode:"me"},{value:"Montserrat",countryCode:"ms"},{value:"Morocco",countryCode:"ma"},{value:"Mozambique",countryCode:"mz"},{value:"Namibia",countryCode:"na"},{value:"Nauru",countryCode:"nr"},{value:"Nepal",countryCode:"np"},{value:"Netherlands",countryCode:"nl"},{value:"Netherlandsantilles",countryCode:"an"},{value:"New Caledonia",countryCode:"nc"},{value:"New Guinea",countryCode:"pg"},{value:"New Zealand",countryCode:"nz"},{value:"Nicaragua",countryCode:"ni"},{value:"Niger",countryCode:"ne"},{value:"Nigeria",countryCode:"ng"},{value:"Niue",countryCode:"nu"},{value:"Norfolk Island",countryCode:"nf"},{value:"North Korea",countryCode:"kp"},{value:"Northern Mariana Islands",countryCode:"mp"},{value:"Norway",countryCode:"no"},{value:"Oman",countryCode:"om"},{value:"Pakistan",countryCode:"pk"},{value:"Palau",countryCode:"pw"},{value:"Palestine",countryCode:"ps"},{value:"Panama",countryCode:"pa"},{value:"Paraguay",countryCode:"py"},{value:"Peru",countryCode:"pe"},{value:"Philippines",countryCode:"ph"},{value:"Pitcairn Islands",countryCode:"pn"},{value:"Poland",countryCode:"pl"},{value:"Portugal",countryCode:"pt"},{value:"Puerto Rico",countryCode:"pr"},{value:"Qatar",countryCode:"qa"},{value:"Reunion",countryCode:"re"},{value:"Romania",countryCode:"ro"},{value:"Russia",countryCode:"ru"},{value:"Rwanda",countryCode:"rw"},{value:"Saint Helena",countryCode:"sh"},{value:"Saint Kitts and Nevis",countryCode:"kn"},{value:"Saint Lucia",countryCode:"lc"},{value:"Saint Pierre",countryCode:"pm"},{value:"Saint Vincent",countryCode:"vc"},{value:"Samoa",countryCode:"ws"},{value:"San Marino",countryCode:"sm"},{value:"Sandwich Islands",countryCode:"gs"},{value:"Sao Tome",countryCode:"st"},{value:"Saudi Arabia",countryCode:"sa"},{value:"Scotland",countryCode:"gb sct"},{value:"Senegal",countryCode:"sn"},{value:"Serbia",countryCode:"cs"},{value:"Serbia",countryCode:"rs"},{value:"Seychelles",countryCode:"sc"},{value:"Sierra Leone",countryCode:"sl"},{value:"Singapore",countryCode:"sg"},{value:"Slovakia",countryCode:"sk"},{value:"Slovenia",countryCode:"si"},{value:"Solomon Islands",countryCode:"sb"},{value:"Somalia",countryCode:"so"},{value:"South Africa",countryCode:"za"},{value:"South Korea",countryCode:"kr"},{value:"Spain",countryCode:"es"},{value:"Sri Lanka",countryCode:"lk"},{value:"Sudan",countryCode:"sd"},{value:"Suriname",countryCode:"sr"},{value:"Swaziland",countryCode:"sz"},{value:"Sweden",countryCode:"se"},{value:"Switzerland",countryCode:"ch"},{value:"Syria",countryCode:"sy"},{value:"Taiwan",countryCode:"tw"},{value:"Tajikistan",countryCode:"tj"},{value:"Tanzania",countryCode:"tz"},{value:"Thailand",countryCode:"th"},{value:"Timorleste",countryCode:"tl"},{value:"Togo",countryCode:"tg"},{value:"Tokelau",countryCode:"tk"},{value:"Tonga",countryCode:"to"},{value:"Trinidad",countryCode:"tt"},{value:"Tunisia",countryCode:"tn"},{value:"Turkey",countryCode:"tr"},{value:"Turkmenistan",countryCode:"tm"},{value:"Tuvalu",countryCode:"tv"},{value:"U.A.E.",countryCode:"ae",alias:"United Arab Emirates"},{value:"Uganda",countryCode:"ug"},{value:"Ukraine",countryCode:"ua"},{value:"United Kingdom",countryCode:"gb",alias:"uk"},{value:"United States",countryCode:"us",alias:"America"},{value:"Uruguay",countryCode:"uy"},{value:"US Minor Islands",countryCode:"um"},{value:"US Virgin Islands",countryCode:"vi"},{value:"Uzbekistan",countryCode:"uz"},{value:"Vanuatu",countryCode:"vu"},{value:"Vatican City",countryCode:"va"},{value:"Venezuela",countryCode:"ve"},{value:"Vietnam",countryCode:"vn"},{value:"Wales",countryCode:"gb wls"},{value:"Wallis and Futuna",countryCode:"wf"},{value:"Western Sahara",countryCode:"eh"},{value:"Yemen",countryCode:"ye"},{value:"Zambia",countryCode:"zm"},{value:"Zimbabwe",countryCode:"zw"}],se=[{value:"18"},{value:"19"},{value:"20"},{value:"21"},{value:"22"},{value:"23"},{value:"24"},{value:"25"},{value:"26"},{value:"27"},{value:"28"},{value:"29"},{value:"30"},{value:"31"},{value:"32"},{value:"33"},{value:"34"},{value:"35"},{value:"36"},{value:"37"},{value:"38"},{value:"39"},{value:"40"},{value:"41"},{value:"42"},{value:"43"},{value:"44"},{value:"45"},{value:"46"},{value:"47"},{value:"48"},{value:"49"},{value:"50"},{value:"51"},{value:"52"},{value:"53"},{value:"54"},{value:"55"},{value:"56"},{value:"57"},{value:"58"},{value:"59"},{value:"60"},{value:"61"},{value:"62"},{value:"63"},{value:"64"},{value:"65"},{value:"66"},{value:"67"},{value:"68"},{value:"69"},{value:"70"},{value:"71"},{value:"72"},{value:"73"},{value:"74"},{value:"75"},{value:"76"},{value:"77"},{value:"78"},{value:"79"},{value:"80"},{value:"81"},{value:"82"},{value:"83"},{value:"84"},{value:"85"},{value:"86"},{value:"87"},{value:"88"},{value:"89"},{value:"90"},{value:"91"},{value:"92"},{value:"93"},{value:"94"},{value:"95"},{value:"96"},{value:"97"},{value:"98"},{value:"99"}],ce=function(e){return/^(([^<>()[\]\\.,;:\s@]+(\.[^<>()[\]\\.,;:\s@]+)*)|(.+))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},le=function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e)},ue=function(e){return/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(e)},de=function(e){return/^(?=.{1,20}$)[a-z]+(?:['_.\s][a-z]+)*$/i.test(e)},me=function(e){return new Promise((function(t){return setTimeout(t,e)}))},pe=function(e){var t=!1;return Object.entries(e).forEach((function(e){var a=Object(oe.a)(e,2);a[0];a[1].length>0&&(t=!0)})),t},he=a(29),fe=a.n(he),ge=a(87),ve=new ge.a,we={lastname:"",firstname:"",email:"",username:"",password:"",cpassword:"",warnings:[],loading:!1,w_lastname:"",w_firstname:"",w_email:"",w_username:"",w_password:"",w_cpassword:"",fetch:!1},Ce={w_lastname:"",w_firstname:"",w_email:"",w_username:"",w_password:"",w_cpassword:""},ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ve.get("token")){e.next=3;break}return e.next=3,B().then((function(e){200===e.status&&a.props.history.push("/profile")})).catch((function(){return ve.remove("token")}));case 3:a._mounted=!0;case 4:case"end":return e.stop()}}),e)}))),a.send=Object(l.a)(c.a.mark((function e(){var t,n,r,o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.lastname,r=t.firstname,o=t.email,i=t.username,s=t.password,u=t.cpassword,a.warnings=Object(v.a)({},Ce),ce(o)||(a.warnings.w_email="Please enter a valid email."),le(s)||(a.warnings.w_password="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters."),0!==u.localeCompare(s)&&(a.warnings.w_cpassword="Password does not match."),ue(i)||(a.warnings.w_username="Please use a valid username."),de(r)||(a.warnings.w_firstname="Please use a valid first name."),de(n)||(a.warnings.w_lastname="Please use a valid last name."),pe(a.warnings)){e.next=15;break}return a._mounted&&a.setState({loading:!0}),e.next=12,me(1200).then(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M(n,r,o,i,s,u).then((function(){a.props.history.push("/login"),he.store.addNotification({title:"Confirm your account",message:"Use the link sent by mail to activate your account",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){"undefined"!==typeof e.response.data&&"undefined"!==typeof e.response.data.warnings&&a._mounted&&a.setState(Object(v.a)({},e.response.data.warnings))}));case 2:case"end":return e.stop()}}),e)}))));case 12:a._mounted&&a.setState({loading:!1}),e.next=16;break;case 15:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 16:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){var t="w_"+e.target.id;a.state[t].length>0&&a.setState(Object(g.a)({},t,"")),a.setState(Object(g.a)({},e.target.id,e.target.value))},a.state=Object(v.a)({},we),a.warnings=Object(v.a)({},Ce),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,a=t.warnings,n=t.w_firstname,o=t.w_lastname,i=t.w_email,s=t.w_password,c=t.w_username,l=t.w_cpassword,u=t.loading;return r.a.createElement(J.a,{className:"SignupModal"},r.a.createElement("div",{className:"shapeSignup"}),r.a.createElement($.a,{active:u},r.a.createElement(Q.a,{size:"massive"},"Create your account...")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ee.a,{className:"img-fluid",src:"/img/MatchApp-Logo.png",alt:"Responsive image",size:"medium",centered:!0}),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("div",{className:"SignupWarnings"},r.a.createElement(re,{data:a})))),r.a.createElement(J.a,{textAlign:"center"},r.a.createElement("h1",{className:"SignupTitle"},"Create an account")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{className:"SignupFormContainer"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(ae.a,null,r.a.createElement(ae.a.Group,{widths:"equal"},r.a.createElement(ae.a.Input,{error:n.length>0?n:null,label:"First Name",id:"firstname",icon:"user",iconPosition:"left",autoFocus:!0,onChange:this.handleChange,size:"huge",placeholder:"First Name",autoComplete:"off"}),r.a.createElement(ae.a.Input,{error:o.length>0?o:null,label:"Last Name",id:"lastname",icon:"user",iconPosition:"left",onChange:this.handleChange,size:"huge",placeholder:"Last Name",autoComplete:"off"})),r.a.createElement(ae.a.Group,{widths:"equal",onSubmit:this.send},r.a.createElement(ae.a.Input,{error:i.length>0?i:null,label:"Email",id:"email",icon:"mail",iconPosition:"left",onChange:this.handleChange,size:"huge",placeholder:"Email",autoComplete:"off"}),r.a.createElement(ae.a.Input,{error:c.length>0?c:null,label:"Choose a username",id:"username",icon:"user circle",iconPosition:"left",onChange:this.handleChange,size:"huge",placeholder:"Choose a username",autoComplete:"off"})),r.a.createElement(ae.a.Group,{widths:"equal"},r.a.createElement(ae.a.Input,{error:s.length>0?s:null,label:"Password",icon:"lock",iconPosition:"left",id:"password",onChange:this.handleChange,type:"password",size:"huge",placeholder:"Password"}),r.a.createElement(ae.a.Input,{error:l.length>0?l:null,label:"Confirm Password",icon:"lock",iconPosition:"left",id:"cpassword",onChange:this.handleChange,type:"password",size:"huge",placeholder:"Confirm Password"})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(ne.a,{className:"SignupButton",loading:u,size:"huge",type:"submit",onClick:this.send},"Register")))))),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("div",{className:"SignupNoAccount"},r.a.createElement("p",null,"Have an account ? ",r.a.createElement("a",{href:"# ",onClick:function(t){t.preventDefault(),e.props.history.push("/login")}},"Log in"))))),r.a.createElement(X.a,{hidden:!0}))}}]),t}(r.a.Component),ke=a(700),Ee=a(78),be=a(171),_e=a.n(be),Oe={users:[]},Se=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).ageFilter=function(e){var t=a.state.users;if(!0===e)return t.sort((function(e,t){return t.age===e.age?t.points-e.points:t.age-e.age})),void(a._mounted&&a.setState({users:t}));t.sort((function(e,t){return t.age===e.age?t.points-e.points:e.age-t.age})),a._mounted&&a.setState({users:t})},a.distanceFilter=function(e){var t=a.state.users;if(e)return t.sort((function(e,t){return t.distance===e.distance?t.points-e.points:t.distance-e.distance})),void(a._mounted&&a.setState({users:t}));t.sort((function(e,t){return t.distance===e.distance?t.points-e.points:e.distance-t.distance})),a._mounted&&a.setState({users:t})},a.state=Object(v.a)({},Oe),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"componentDidUpdate",value:function(e){_e()(this.props.users,e.users)||this._mounted&&this.setState({users:this.props.users})}},{key:"render",value:function(){var e=this,t=this.state.users;return t&&t.length?t.map((function(t,a){var n=t.user_id,o=t.img_link,i=t.firstname,s=t.likes,c=t.distance,l=t.age;return r.a.createElement(te.a.Column,{key:a,mobile:4,tablet:8,computer:4,largeScreen:4,widescreen:2},r.a.createElement(ke.a,{key:a,className:"userMinCard",onClick:function(){return e.props.clickedUser(n)}},r.a.createElement(ee.a,{src:o,wrapped:!0,ui:!1,size:"large"}),r.a.createElement(ke.a.Content,null,r.a.createElement(ke.a.Header,null,i,r.a.createElement("span",{className:"MinCardAge"},", ",l)),r.a.createElement(ke.a.Meta,null,r.a.createElement("span",{className:"date"},Math.round(c)," ",r.a.createElement("strong",null,"km")))),r.a.createElement(ke.a.Content,{extra:!0},r.a.createElement("span",{className:"likesSpan"},r.a.createElement(Ee.a,{name:"heart"}),s," Likes"))))})):null}}]),t}(r.a.Component),je=a(326),Ne=a.n(je),xe=a(695),Re=a(703),Ie=a(128),Me=a(111),Pe=a.n(Me),ze=a(3),Ae=a.n(ze),Fe=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).doReport=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(a.props.userID).then((function(e){200===e.status&&he.store.addNotification({title:"Report",message:"User has been reported",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){console.log(e)}));case 2:a.props.closeReport();case 3:case"end":return e.stop()}}),e)}))),a.doFake=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a.props.userID).then((function(e){200===e.status&&he.store.addNotification({title:"Report as fake",message:"User has been reported as a fake",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){console.log(e)}));case 2:a.props.closeFake();case 3:case"end":return e.stop()}}),e)}))),a.doHide=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(a.props.userID).then((function(e){200===e.status&&he.store.addNotification({title:"Hide user",message:"User has been successfully hided for next time",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){console.log(e)}));case 2:a.props.closeHide();case 3:case"end":return e.stop()}}),e)}))),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(xe.a,{size:"tiny",open:this.props.openReport,onClose:this.props.closeReport},r.a.createElement(xe.a.Header,null,"Report user"),r.a.createElement(xe.a.Content,null,r.a.createElement("p",null,"Are you sure you want to report this user ?")),r.a.createElement(xe.a.Actions,null,r.a.createElement(ne.a,{negative:!0,onClick:this.props.closeReport},"No"),r.a.createElement(ne.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:this.doReport}))),r.a.createElement(xe.a,{size:"tiny",open:this.props.openFake,onClose:this.props.closeFake},r.a.createElement(xe.a.Header,null,"Report user as a fake"),r.a.createElement(xe.a.Content,null,r.a.createElement("p",null,"Are you sure you want to report this user as a fake?")),r.a.createElement(xe.a.Actions,null,r.a.createElement(ne.a,{negative:!0,onClick:this.props.closeFake},"No"),r.a.createElement(ne.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:this.doFake}))),r.a.createElement(xe.a,{size:"tiny",open:this.props.openHide,onClose:this.props.closeHide},r.a.createElement(xe.a.Header,null,"Hide next time"),r.a.createElement(xe.a.Content,null,r.a.createElement("p",null,"Are you sure you want to hide this user the next time?")),r.a.createElement(xe.a.Actions,null,r.a.createElement(ne.a,{negative:!0,onClick:this.props.closeHide},"No"),r.a.createElement(ne.a,{positive:!0,icon:"checkmark",labelPosition:"right",content:"Yes",onClick:this.doHide}))))}}]),t}(r.a.Component),De=a(292),Le={openHide:!1,openReport:!1,openFake:!1,liked:!1,interests:"",like:!1,showModal:!1,user:{lastname:"",firstname:"",interests:[],gender:[],interested:[],imgs:[],country:"",last_date_online:"",bio:"",age:"",likes:""}},Ue=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a._mounted=!0;case 1:case"end":return e.stop()}}),e)}))),a.loadUser=function(e){V(e).then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status&&a._mounted&&a.setState({user:t.data.user,showModal:!0,liked:t.data.user.liked,like:t.data.like});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.userLike=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t).then((function(e){200===e.status&&"undefined"!=typeof e.data.liked&&(a._mounted&&a.setState({liked:e.data.liked}),e.data.liked&&a.props.s_like(t),e.data.unliked&&a.props.s_like_unliked(t),e.data.likedback&&a.props.s_like_likedback(t))})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleClose=function(){a._mounted&&a.setState({user:Object(v.a)({},Le),liked:!1,showModal:!1})},a.closeReport=function(){a._mounted&&a.setState({openReport:!1})},a.openReport=function(){a._mounted&&a.setState({openReport:!0})},a.closeFake=function(){a._mounted&&a.setState({openFake:!1})},a.openFake=function(){a._mounted&&a.setState({openFake:!0})},a.closeHide=function(){a._mounted&&a.setState({openHide:!1})},a.openHide=function(){a._mounted&&a.setState({openHide:!0})},a.state=Object(v.a)({},Le),a._mounted=!1,a.state.interests=a.props.interests,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted&&this.setState(Object(v.a)({},Le)),this._mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.liked,o=t.like,i=t.showModal,s=t.openReport,c=t.openFake,l=t.openHide,u=t.interests;return i&&"undefined"!==typeof a.imgs?r.a.createElement("div",null,r.a.createElement(Fe,{openReport:s,closeReport:this.closeReport,openFake:c,closeFake:this.closeFake,openHide:l,closeHide:this.closeHide,userID:a.user_id}),r.a.createElement(xe.a,{dimmer:"blurring",size:"tiny",open:i,onClose:this.handleClose,className:"ModalCard"},r.a.createElement(xe.a.Header,{className:"CardHeader"},r.a.createElement("h1",{className:"CardHeaderTile"}," ",a.firstname," ",a.lastname,", ",r.a.createElement("strong",null,a.age))),r.a.createElement(xe.a.Content,{className:"ModalProfilView"},r.a.createElement("p",null,a.online?r.a.createElement("span",{className:"Online"},r.a.createElement(Ee.a,{name:"circle"}),"Online"):r.a.createElement("span",{className:"LastConnection"},r.a.createElement(Ee.a,{name:"circle"}),"Online ",De(a.last_date_online).fromNow())),o?r.a.createElement("span",{className:"spanLike"},r.a.createElement(Ee.a,{name:"heart"}),"Like your profile"):null,r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{centered:!0,columns:2},r.a.createElement(te.a.Column,{className:"RowImages"},r.a.createElement(ee.a,{rounded:!0,size:"medium",src:a.imgs[0]})),r.a.createElement(te.a.Row,{className:"RowImages",centered:!0,columns:4},a.imgs.map((function(e,t){return t>0?r.a.createElement(te.a.Column,{key:t},r.a.createElement(ee.a,{rounded:!0,size:"small",src:a.imgs[t]})):null})))),r.a.createElement(xe.a.Description,null,a.bio&&a.bio.length?r.a.createElement(Re.a,{className:"BioSegment",textAlign:"center",inverted:!0},r.a.createElement("p",null,a.bio)):r.a.createElement(X.a,{hidden:!0}),r.a.createElement(Re.a,{basic:!0,textAlign:"center"},r.a.createElement(Pe.a.Group,{fluid:!0,widths:4},r.a.createElement(Pe.a,{size:"small",id:"like",onClick:function(){return e.userLike(a.user_id)}},r.a.createElement(Ee.a,{name:"heart"}),n?"Unlike":"Like"),r.a.createElement(Pe.a,{size:"small",id:"hide",onClick:this.openHide},r.a.createElement(Ee.a,{name:"user x"}),"Hide"),r.a.createElement(Pe.a,{size:"small",id:"fake",onClick:this.openFake},r.a.createElement(Ee.a,{name:"user secret"}),"Fake"),r.a.createElement(Pe.a,{size:"small",id:"blockuser",onClick:this.openReport},r.a.createElement(Ee.a,{name:"warning"}),"Signal"))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(Ie.a.Group,{size:"small"},r.a.createElement("p",null),a.interests.map((function(e,t){return r.a.createElement(Ie.a,{className:u.find((function(t){return t===e}))?Ae()("interestLabel","sameInterest"):"interestLabel",id:t,key:t,data:e},r.a.createElement("strong",null,"#"),e)}))))))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.interests!==t.interests?{interests:e.interests}:null}}]),t}(r.a.Component),Be=a(688),Te=a(178),He=a.n(Te),We=a(130),Ge={isFetching:!1,multiple:!0,search:!0,value:[],DATA:[]},Ve=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._mounted=!0,a._mounted&&a.setState({loading:!0,interests:[]}),e.next=4,D().then((function(e){a._mounted&&a.setState({DATA:e.data.results.map((function(e,t){return{key:t,text:e.title,value:e.title}}))})}));case 4:case"end":return e.stop()}}),e)}))),a.handleChange=function(e,t){var n=t.value;a._mounted&&a.setState({value:n},(function(){a.state.value&&a.state.value.length<1?a.props.activeCheckBox():a.props.disableCheckBox()}))},a.state={isFetching:!1,multiple:!0,search:!0,value:[],DATA:[]},a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted&&this.setState(Object(v.a)({},Ge)),this._mounted=!1}},{key:"clearValue",value:function(){this._mounted&&this.state.value&&this.state.value.length>0&&this._mounted&&this.setState({value:[]})}},{key:"render",value:function(){var e=this.state,t=e.multiple,a=e.DATA,n=e.search,o=e.value;return r.a.createElement("div",{className:"SearchTags"},r.a.createElement(We.a,{id:"dropdownSearchTags",fluid:!0,selection:!0,multiple:t,search:n,options:a,value:o,placeholder:"Add tags",onChange:this.handleChange}))}}]),t}(n.Component),qe=(a(617),function(e){return e.children}),Ye={distanceRange:250,ageRange:{min:18,max:27},popularityRange:{min:0,max:50},loading:!1,checked:!0},Ke=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"distanceRange"===n?a._mounted&&a.setState({distanceRange:t}):"ageRange"===n?a._mounted&&a.setState({ageRange:t}):"popularityRange"===n&&a._mounted&&a.setState({popularityRange:t});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleClick=function(){a.props.searchMatch(a.state.distanceRange,a.state.ageRange,a.state.popularityRange,a.innerRef.current&&a.innerRef.current.state.value)},a.activeCheckBox=function(){!1===a.state.checked&&(a.innerRef.current.clearValue(),a.setState({checked:!0}))},a.disableCheckBox=function(){!0===a.state.checked&&a.setState({checked:!1})},a.state=Object(v.a)({},Ye),a._mounted=!1,a.state.loading=!0,a.innerRef=r.a.createRef(),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"render",value:function(){var e=this,t=this.state,a=t.distanceRange,n=t.loading,o=t.checked,i=t.ageRange,s=t.popularityRange;return r.a.createElement(qe,null,r.a.createElement(te.a.Column,{mobile:16,tablet:6,computer:6,largeScreen:4,widescreen:3},r.a.createElement(Re.a,{inverted:!0,className:"SegmentFilter"},r.a.createElement("div",{className:"filterContainer"},r.a.createElement(te.a.Row,null,r.a.createElement("div",{className:"DistanceRangeContainer"},r.a.createElement("h1",{className:"DistanceRangeTitle"},r.a.createElement("strong",null,"Distance"),r.a.createElement("span",{className:"RangeTitle"},"0 - ",a," km")))),r.a.createElement(te.a.Row,null,r.a.createElement(He.a,{maxValue:5e3,minValue:0,onChange:function(t){return e.setState({distanceRange:t})},value:a})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,null,r.a.createElement("div",{className:"DistanceRangeContainer"},r.a.createElement("h1",{className:"DistanceRangeTitle"},r.a.createElement("strong",null,"Age")," ",r.a.createElement("span",{className:"RangeTitle"}," ",i.min," - ",i.max)))),r.a.createElement(te.a.Row,null,r.a.createElement(He.a,{maxValue:99,minValue:18,onChange:function(t){return e.setState({ageRange:t})},value:i})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,null,r.a.createElement("div",{className:"DistanceRangeContainer"},r.a.createElement("h1",{className:"DistanceRangeTitle"},r.a.createElement("strong",null,"Popularity")," ",r.a.createElement("span",{className:"RangeTitle"}," ",s.min," - ",s.max)))),r.a.createElement(te.a.Row,null,r.a.createElement(He.a,{maxValue:500,minValue:0,onChange:function(t){return e.setState({popularityRange:t})},value:s})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(Re.a,{className:"bottomFilter"},r.a.createElement(te.a,{columns:"equal"},r.a.createElement(te.a.Row,null,r.a.createElement(te.a.Column,{width:6},r.a.createElement(Re.a,{className:"CheckBoxContainer"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Be.a,{checked:o,onClick:o?this.disableCheckBox:this.activeCheckBox,toggle:!0}),r.a.createElement("p",{id:"includeMyInterests"},"Use my interests")))),r.a.createElement(te.a.Column,null,r.a.createElement(te.a.Row,null,r.a.createElement(Ve,{activeCheckBox:this.activeCheckBox,disableCheckBox:this.disableCheckBox,ref:this.innerRef})),r.a.createElement(te.a.Row,{centered:!0,textAlign:"center"},r.a.createElement(ne.a,{className:"searchButton",id:"search",size:"large",fluid:!0,loading:n,floated:"right",onClick:this.handleClick},"Search"))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.loading!==t.loading?{loading:e.loading}:null}}]),t}(r.a.Component),Ze={loadingModal:"",nextUsers:"",hasMoreContent:!1,clear:!1,users:[],warnings:[],loading:!0,userView:!1,userIdFocusLoading:null,interests:[],visible:!1,aDescendant:!1,dDescendant:!1,distanceRange:250,ageRange:{min:18,max:27},popularityRange:{min:0,max:50}},Je=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._mounted=!0,a._mounted&&a.setState({loading:!0}),e.next=4,G().then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=5;break}return e.next=3,L().then((function(e){200===e.status&&a._mounted&&a.setState({interests:e.data.interests})}));case 3:a._mounted&&a.setState({userView:!0}),a.searchMatch(a.state.distanceRange,a.state.ageRange,a.state.popularityRange);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){he.store.addNotification({message:"Please complete your profile",type:"info",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}}),a.props.history.push("/profile")}));case 4:case"end":return e.stop()}}),e)}))),a.searchMatch=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,o){var i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._mounted&&a.setState((function(e){return{loading:!0,interests:o&&o.length?o:e.interests}})),i=[],e.next=4,W(t,n,r,o).then((function(e){200===e.status&&(i=e.data.users)}));case 4:s=0,i.length>20&&(s=i.slice(21)),a._mounted&&a.setState({nextUsers:s,users:i.slice(0,21),hasMoreContent:i.length>20}),a._mounted&&a.setState({loading:!1});case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}(),a.clickedUser=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.sWallVisit(t),a.innerRefModal.current&&a.innerRefModal.current.loadUser(t),a._mounted&&a.setState({loadingMinCard:!0,userIdFocusLoad:t});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleBottomPage=function(){var e=a.state,t=e.nextUsers,n=e.users;if(t.length){for(var r=0;r<t.length&&r<=20;r++)n.push(t[r]);a._mounted&&a.setState({users:n,nextUsers:t.slice(21)})}else a._mounted&&a.setState({hasMoreContent:!1})},a.ageFilter=function(){var e=a.state.aDescendant;a.setState({loading:!0}),a.innerRef.current&&a.innerRef.current.ageFilter(e),a.setState({aDescendant:!e,loading:!1})},a.distanceFilter=function(){var e=a.state.dDescendant;a.setState({loading:!0}),a.innerRef.current&&a.innerRef.current.distanceFilter(e),a.setState({dDescendant:!e,loading:!1})},a.state=Object(v.a)({},Ze),a._mounted=!1,a.innerRefModal=r.a.createRef(),a.innerRef=r.a.createRef(),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,a=t.hasMoreContent,n=t.loading,o=t.users,i=t.aDescendant,s=t.interests,c=t.dDescendant,l=t.userIdFocusLoad,u=r.a.createElement(te.a.Column,null,r.a.createElement(te.a.Row,null,r.a.createElement("div",{className:"ButtonFilters"},r.a.createElement(ne.a.Group,{size:"small",widths:3,fluid:!0},r.a.createElement(ne.a,{onClick:this.ageFilter,icon:!0,labelPosition:"left"},r.a.createElement(Ee.a,{name:i?"arrow down":"arrow up"}),"Age"),r.a.createElement(ne.a,{onClick:this.distanceFilter,icon:!0,labelPosition:"left"},r.a.createElement(Ee.a,{name:c?"arrow down":"arrow up"}),"Distance"),r.a.createElement(ne.a,{onClick:function(){return e.searchMatch(e.state.distanceRange,e.state.ageRange,e.state.popularityRange,[])},icon:!0,labelPosition:"left"},r.a.createElement(Ee.a,{name:"list ol"}),"Match")))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{stackable:!0},r.a.createElement(Se,{userIdFocus:l,inner:!0,users:o,ref:this.innerRef,clickedUser:this.clickedUser})));return r.a.createElement("div",{className:"WallContainer"},r.a.createElement(Ue,{interests:s,s_like:this.props.s_like,s_like_unliked:this.props.s_like_unliked,s_like_likedback:this.props.s_like_likedback,ref:this.innerRefModal}),r.a.createElement(te.a,{centered:!0,columns:"equal",stackable:!0},r.a.createElement(Ke,{loading:n,searchMatch:this.searchMatch}),u),r.a.createElement(Ne.a,{pageStart:0,loadMore:this.handleBottomPage,hasMore:a}," "))}}]),t}(r.a.Component),$e=Object(f.g)(Je),Qe=new ge.a,Xe={email:"",password:"",warnings:[],loading:!1,w_email:"",w_password:""},et={w_email:"",w_password:""},tt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).send=Object(l.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.warnings=Object(v.a)({},et),t=a.state,n=t.email,r=t.password,a._mounted&&a.setState({loading:!0}),e.next=5,me(300).then(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(n)||(a.warnings.w_email="Please enter a valid email"),le(r)||(a.warnings.w_password="Please enter a valid password"),pe(a.warnings)){e.next=7;break}return e.next=5,I(n,r).then((function(e){"undefined"!==typeof e.data&&"undefined"!==typeof e.data.connect&&a.props.s_userlogin(),a.props.handleConnected(!0),a.props.history.push("/profile")})).catch((function(e){"undefined"!==typeof e.response&&"undefined"!==typeof e.response.data&&a._mounted&&(a.setState({w_email:e.response.data.w_email}),e.response.data.w_emailconfirm&&he.store.addNotification({title:"Account not active",message:"A confirmation link was sent to your mail",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}}))}));case 5:e.next=8;break;case 7:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 8:case"end":return e.stop()}}),e)}))));case 5:a._mounted&&a.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){var t=a.state,n=t.w_email,r=t.w_password;"email"===e.target.id&&n&&n.length>0&&a.setState({w_email:""}),"password"===e.target.id&&r&&r.length>0&&a.setState({w_password:""}),a.setState(Object(g.a)({},e.target.id,e.target.value))},a.state=Object(v.a)({},Xe),a.warnings=Object(v.a)({},et),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qe.get("token")){e.next=3;break}return e.next=3,B().then((function(e){200===e.status&&t.props.history.push("/profile")})).catch((function(){return Qe.remove("token")}));case 3:if(this._mounted=!0,this.params=this.props.match.params,!this.params.token){e.next=9;break}return e.next=8,N(this.params.token).then((function(e){200===e.status?he.store.addNotification({title:"Account validation",message:"Your account was successfully activated. You can now log in.",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}}):he.store.addNotification({title:"Error validation",message:"Token or mail are not valids.",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){he.store.addNotification({title:"Error validation",message:"Token or mail are not valids.",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})}));case 8:this.props.history.push("/login");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.w_email,o=t.w_password;return r.a.createElement(J.a,{className:"loginModal"},r.a.createElement($.a,{active:a},r.a.createElement(Q.a,{size:"big"},"Connecting to MatchApp...")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ee.a,{className:"img-fluid",src:"/img/MatchApp-Logo.png",alt:"Responsive image",size:"medium",centered:!0}),r.a.createElement("div",{className:"loginWarnings"},r.a.createElement(re,{data:this.state.warnings})),r.a.createElement("div",{className:"shape"}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("h1",{className:"loginh1"},"User Login"),r.a.createElement(ae.a,{className:"loginForm"},r.a.createElement(ae.a.Field,null,r.a.createElement(ae.a.Input,{error:n&&n.length>0?{content:n,pointing:"below"}:null,id:"email",icon:"users",iconPosition:"left",autoFocus:!0,onChange:this.handleChange,size:"huge",placeholder:"Email"})),r.a.createElement(ae.a.Field,{className:"inputPassword"},r.a.createElement(ae.a.Input,{error:o&&o.length>0?{content:o,pointing:"below"}:null,icon:"lock",iconPosition:"left",id:"password",onChange:this.handleChange,type:"password",size:"huge",placeholder:"Password"})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ne.a,{className:"loginButton",loading:a,size:"huge",type:"submit",onClick:this.send},"Log in")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("div",{className:"loginNoAccount"},r.a.createElement("p",{className:"loginForgot"},r.a.createElement("a",{href:"# ",onClick:function(t){t.preventDefault(),e.props.history.push("/forgotpassword")}},r.a.createElement("strong",null,"Forgot password ?"))),r.a.createElement("p",null,"No account ? ",r.a.createElement("a",{href:"# ",onClick:function(t){t.preventDefault(),e.props.history.push("/signup")}},"Register"))),r.a.createElement(X.a,{hidden:!0}))}}]),t}(r.a.Component),at=a(692),nt=a(690),rt=a(691),ot=a(110),it=a.n(ot),st=ie,ct=se,lt=[{key:"male",value:"male",text:"Male"},{key:"female",value:"female",text:"Female"}],ut=[{key:"male",value:"male",text:"Male"},{key:"female",value:"female",text:"Female"},{key:"other",value:"other",text:"Other"}],dt={lastname:"",firstname:"",interested:"",country:"",gender:"",bio:"",email:"",birthday:"",save:!1,age:"",loading:!1,complete:0,w_lastname:"",w_age:"",w_firstname:"",w_gender:"",w_interested:"",w_country:"",w_bio:""},mt={w_age:"",w_lastname:"",w_firstname:"",w_gender:"",w_interested:"",w_country:"",w_bio:""},pt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),a._mounted=!0,a._mounted&&a.setState({complete:a.props.complete}),e.next=5,z().then((function(e){"undefined"!==typeof e.data.findProfil&&!0===a._mounted&&a._mounted&&a.setState(Object(v.a)({},e.data.findProfil))})).catch((function(e){"undefined"!==typeof e.response&&"undefined"!==typeof e.response.data&&"undefined"!==typeof e.response.data.warnings&&!0===a._mounted&&a._mounted&&a.setState(Object(v.a)({},e.response.data.warnings))}));case 5:case"end":return e.stop()}}),e)}))),a.handleSave=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a._mounted){e.next=19;break}if(a.warnings=Object(v.a)({},mt),t=!1,n=!1,a.countries.forEach((function(e){e.value!==a.state.country||(t=!0)})),a.age.forEach((function(e){e.value!==a.state.age||(n=!0)})),t||(a.warnings.w_country="Please select a valid country"),n||(a.warnings.w_age="Please select your age"),de(a.state.lastname)||(a.warnings.w_lastname="Only characters are allowed for your lastname. Must contain between 3 and 13 characters"),de(a.state.firstname)||(a.warnings.w_firstname="Only characters are allowed for your first name. Must contain between 3 and 13 characters"),"male"!==a.state.interested&&"female"!==a.state.interested&&"other"!==a.state.interested&&(a.warnings.w_interested="Please select a valid interest option"),"male"!==a.state.gender&&"female"!==a.state.gender&&"other"!==a.state.interested&&(a.warnings.w_gender="Please select a valid gender option"),a.state.bio&&a.state.bio.length>90&&(a.warnings.w_bio="Your bio is too long, please use 90 maximum characters. You have "+a.state.bio.length),!0!==!pe(a.warnings)){e.next=18;break}return e.next=16,P(a.state).then((function(){a._mounted&&a.setState({loading:!1},(function(){a.props.nextsection()}))})).catch((function(e){"undefined"!==typeof e.response&&"undefined"!==typeof e.response.data&&"undefined"!==typeof e.response.data.warnings&&a._mounted&&a.setState(Object(v.a)({},e.response.data.warnings))}));case 16:e.next=19;break;case 18:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 19:case"end":return e.stop()}}),e)}))),a.handleChange=it.a.debounce((function(e,t){var n,r=t.value,o=t.id;a._mounted&&a.setState((n={},Object(g.a)(n,o,r),Object(g.a)(n,"w_"+o,""),n))}),300),a.handleChangeFocus=function(e){var t=e.target.id;""!==a.state.id&&a._mounted&&a.setState(Object(g.a)({},t,""))},a._mounted=!1,a.state=Object(v.a)({},dt),a.state.complete=a.props.complete,a.countries=st,a.age=ct,a.age=a.age.map((function(e,t){return{key:t,text:e.value,value:e.value}})),a.countries=a.countries.map((function(e,t){return{key:t,text:e.value,value:e.value}})),a.warnings=Object(v.a)({},mt),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.w_age,a=e.w_firstname,n=e.age,o=e.w_lastname,i=e.w_gender,s=e.w_interested,c=e.w_country,l=e.w_bio,u=e.complete;return r.a.createElement("div",{className:"BasicInfosContainer"},r.a.createElement("div",{className:"BasicInformations"},r.a.createElement((function(){return r.a.createElement(at.a,{percent:u,progress:!0,indicating:!0,size:"medium"})}),null),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("h1",{className:"CompleteTitle"},"Complete Basics Informations"))),r.a.createElement("div",{className:"shapeBasicsInfos"}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{columns:1,doubling:!0},r.a.createElement(te.a.Column,null,r.a.createElement(ae.a,{className:"BasicInfosForm"},r.a.createElement(ae.a.Field,{error:t.length>0?t:null,id:"age",control:nt.a,value:n?n.toString():"",options:this.age,label:"Select your age",placeholder:"Your Age",onChange:this.handleChange}),r.a.createElement(ae.a.Group,{widths:"equal"},r.a.createElement(ae.a.Input,{error:o.length>0?o:null,fluid:!0,label:"Last Name",color:"white",id:"lastname",onClick:this.handleChangeFocus,onChange:this.handleChange,placeholder:this.state.lastname}),r.a.createElement(ae.a.Input,{error:a.length>0?a:null,fluid:!0,label:"First Name",id:"firstname",content:this.state.firstname,placeholder:this.state.firstname,onChange:this.handleChange})),r.a.createElement(ae.a.Group,{widths:"equal",className:"DropdownBasic"},r.a.createElement(ae.a.Field,{error:i.length>0?i:null,id:"gender",control:nt.a,value:this.state.gender,placeholder:"Select Gender",options:lt,label:"Select Gender",onChange:this.handleChange}),r.a.createElement(ae.a.Field,{error:s.length>0?s:null,id:"interested",control:nt.a,value:this.state.interested,options:ut,label:"Interested by ",placeholder:"Interested by",onChange:this.handleChange})),r.a.createElement(ae.a.Group,{widths:"equal"},r.a.createElement(ae.a.Input,{fluid:!0,disabled:!0,label:"Email",id:"email",placeholder:this.state.email,onChange:this.handleChange}),r.a.createElement(ae.a.Field,{error:c.length>0?c:null,id:"country",control:nt.a,value:this.state.country,options:this.countries,label:"Select Country",placeholder:"Country",search:!0,onChange:this.handleChange})),r.a.createElement(ae.a.Field,{error:l.length>0?l:null,label:"Bio",control:rt.a,id:"bio",placeholder:null!=this.state.bio&&this.state.bio.length?this.state.bio:"",onChange:this.handleChange}))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle right",size:"huge",onClick:this.handleSave})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.complete!==t.complete?{complete:e.complete}:null}}]),t}(r.a.Component),ht=a(45),ft=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).imagesFilesUpload=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Math.round(t.size/1024)>=4096)){e.next=5;break}a.props.setWarnings(["File is too big. Max limit is 4Mb"]),e.next=12;break;case 5:return(n=new FormData).append("file",t),e.next=9,C.a.post("http://localhost:5000/user-profile",n,{withCredentials:"true"});case 9:r=e.sent,(o=r.data).warnings&&a.props.setWarnings(o.warnings);case 12:a.props.handleImageUpload();case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onSubmit=function(){null!=a.state.file&&(a.imagesFilesUpload(a.state.file),a.setState({file:""}))},a.simulateClick=function(e){e.click()},a.onFileChange=a.onFileChange.bind(Object(ht.a)(a)),a.onSubmit=a.onSubmit.bind(Object(ht.a)(a)),a.state={file:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"onFileChange",value:function(e){this.setState({file:e.target.files[0]},this.onSubmit)}},{key:"render",value:function(){return r.a.createElement("div",{className:"containerUpload"},r.a.createElement("div",{className:"file-upload"},r.a.createElement("div",{className:"image-upload-wrap"},r.a.createElement("input",{className:"file-upload-input",type:"file",onChange:this.onFileChange,accept:"image/png, image/jpg, image/jpeg"}),r.a.createElement("br",null),r.a.createElement("div",{className:"drag-text"},r.a.createElement("h3",null,"Drag and Drop ",r.a.createElement("strong",null,"or")," add file")))))}}]),t}(r.a.Component),gt=function(e){return Array.isArray(e.data)&&e.data.length>0?e.data.map((function(t,a){return r.a.createElement(te.a.Column,{key:a,mobile:8,tablet:6,computer:6},r.a.createElement(ee.a,{className:"ImagePreview",src:t.img_link,rounded:!0,fluid:!0,label:{as:"a",corner:"right",icon:"close",onClick:function(){return a=t.img_id,void e.deleteImage(a);var a}}}))})):null},vt=function(e){return e.data.length>0?r.a.createElement("div",{className:"AddPhotosMinContainer"},r.a.createElement(J.a,{textAlign:"left"},r.a.createElement(X.a,{hidden:!0}),r.a.createElement(X.a,null),r.a.createElement("h1",{className:"titlePreviewAddPhotos"},"Profile images"),r.a.createElement("br",null),r.a.createElement(te.a,{columns:e.data.length,doubling:!0},r.a.createElement(gt,{data:e.data,deleteImage:e.deleteImage})))):null},wt={profileImg:[],coverImage:"",previewTab:[],warnings:[],loading:!1,complete:0},Ct=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidUpdate=function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.complete!==n.complete&&a._mounted&&a.setState({complete:t.complete});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.setWarnings=function(e){return a.setState({warnings:e})},a.showPreview=function(e){return a.setState({previewTab:e})},a.updateImages=function(){a.state.profileImg.length>0?a.setState({coverImage:a.state.profileImg[0].img_link}):a.setState({coverImage:"http://localhost:3000/img/white-image.png"})},a.removeElement=function(e,t){return t>-1&&e.splice(t,1),e},a.prevSection=function(){a._mounted&&a.setState({loading:!0}),a.props.prevsection()},a.nextSection=function(){a._mounted&&a.setState({loading:!0}),a.props.nextsection()},a.deleteImage=function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,(o=a.state.profileImg).map((function(e,t){return e.img_id===r?a.removeElement(o,t):null})),a.setState({profileImg:o}),a.updateImages(),e.next=7,H(r).then((function(e){200===e.status&&a._mounted&&(a.setState({warnings:e.data.warnings}),a.removeElement(a.state.profileImg,n))})).catch((function(e){a._mounted&&a.setState({warnings:e.response.data.warnings})}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.state=Object(v.a)({},wt),a.state.complete=a.props.complete,a.state.coverImage="http://localhost:3000/img/white-image.png",a.handleImageUpload=a.handleImageUpload.bind(Object(ht.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),this._mounted=!0,this._mounted&&this.setState({loading:!0}),e.next=5,A().then((function(e){e.data.profileImg.length>0&&t._mounted&&t.setState({profileImg:e.data.profileImg},(function(){t.updateImages()}))}));case 5:this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._mounted=!1,this.setState(Object(v.a)({},wt))}},{key:"handleImageUpload",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A();case 3:t=e.sent,(a=t.data).profileImg.length>0&&this.setState({profileImg:a.profileImg},(function(){n.updateImages()})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.nextSection,a=this.prevSection;return r.a.createElement("div",{className:"AddPhotos"},r.a.createElement((function(){return r.a.createElement(at.a,{percent:e.state.complete,progress:!0,indicating:!0,size:"medium"})}),null),r.a.createElement($.a,{active:this.state.loading},r.a.createElement(Q.a,{size:"massive"})),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("h1",{className:"CompleteTitle"},"Add photos"))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("div",{className:"shapeAddPhotos"}),r.a.createElement(te.a,{columns:2,doubling:!0,textAlign:"center"},r.a.createElement(te.a.Column,null,r.a.createElement(ee.a,{className:"ShadowImage",src:this.state.coverImage,size:"medium",centered:!0,rounded:!0,bordered:!0})),r.a.createElement(te.a.Column,null,r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(ft,{handleSaveFinished:this.handleSaveFinished,savePhotos:this.state.savePhotos,showPreview:this.showPreview,setWarnings:this.setWarnings,handleImageUpload:this.handleImageUpload})),r.a.createElement(J.a,{fluid:!0,textAlign:"center"},r.a.createElement("div",{className:"loginWarnings WarningsUpload"},r.a.createElement(re,{data:this.state.warnings}))),r.a.createElement(vt,{data:this.state.profileImg,deleteImage:this.deleteImage}))),r.a.createElement(te.a,null,r.a.createElement(X.a,{hidden:!0}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle left",size:"huge",onClick:a}),r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle right",size:"huge",onClick:t}))))}}]),t}(r.a.Component),yt=a(701),kt={interests:[]},Et=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state=Object(v.a)({},kt),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.interests;return r.a.createElement("div",{className:"ui middle InterestsContainer"},r.a.createElement(Ie.a.Group,{size:"huge"},t.map((function(t,a){return r.a.createElement(Ie.a,{className:"interestLabel",id:a,key:a,data:t,onClick:function(){return e.props.deleteInterest({data:t,i:a})}},r.a.createElement("strong",null,"#"),t)})),r.a.createElement(X.a,{hidden:!0})))}}]),t}(r.a.Component),bt={interests:[],clear:!1,isLoading:!1,value:"",warnings:[],results:[],loading:!1},_t={isLoading:!1,results:[],value:""},Ot=[],St=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidUpdate=function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.complete!==n.complete&&a._mounted&&a.setState({complete:t.complete}),t.loading!==n.loading&&a._mounted&&a.setState({loading:t.loading});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.handleResultSelect=function(e,t){var n=t.result;return a.setState({value:n.title.trim()})},a.handleSearchChange=function(e,t){var n=t.value;a.setState({isLoading:!0,value:n}),setTimeout(Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.state.value.length<1)){e.next=2;break}return e.abrupt("return",a.setState(_t));case 2:t=new RegExp(it.a.escapeRegExp(a.state.value),"i"),n=function(e){return t.test(e.title)},a.setState({isLoading:!1,results:it.a.filter(Ot,n).slice(0,3)});case 5:case"end":return e.stop()}}),e)}))),300)},a.handleKeyDown=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.key){e.next=13;break}if(n=new RegExp("/(^|\\B)#(?![0-9_]+\\b)([a-zA-Z0-9_]{1,30})(\\b|\\r)/g"),r=t.target.value,o=a.state.interests,i=[],(!r||r.length<2)&&i.push("Your interest must contain between 2 and 20 characters"),n.test(r)&&i.push("Your interest is not valid. Only letter and numeric value is accepted"),!(i.length<1)){e.next=12;break}return e.next=10,F(r).then((function(e){200===e.status&&a._mounted&&(o.push(r),a.setState({interests:o,warnings:e.data.warnings,value:""}))})).catch((function(e){a._mounted&&a.setState({warnings:e.response.data.warnings})}));case 10:e.next=13;break;case 12:a.setState({warnings:i});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.deleteInterest=function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,r=t.i,e.abrupt("return",a.setState((function(e){return{interests:e.interests.filter((function(e,t){return r!==t}))}}),Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T(n).then((function(e){return 200===e.status&&a._mounted&&a.setState({warnings:e.data.warnings})})).catch((function(e){return a._mounted&&a.setState({warnings:e.response.data.warnings})})));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.prevSection=function(){a._mounted&&a.setState({loading:!0}),a.props.prevsection()},a.nextSection=function(){a._mounted&&a.setState({loading:!0}),a.props.nextsection()},a.state=bt,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1;this.setState(Object(v.a)({},{interests:[],clear:!1,isLoading:!1,value:"",warnings:[],results:[],loading:!1})),Ot=[]}},{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.scrollTo(0,0),this._mounted=!0,this.setState({loading:!0,interests:[]}),D().then((function(e){Ot=e.data.results})).catch((function(e){t._mounted&&t.setState({warnings:e.response.data.warnings})})),L().then((function(e){!1!==e.data.interests&&(bt.interests=e.data.interests,t._mounted&&t.setState({interests:e.data.interests}))})).catch((function(e){t._mounted&&t.setState({warnings:e.response.data.warnings})})),this._mounted&&this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"showWarnings",value:function(e){return e&&e.length?r.a.createElement(te.a.Row,{centered:!0,textAlign:"center"},r.a.createElement("div",{className:"loginWarnings"},r.a.createElement(re,{data:e}))):null}},{key:"render",value:function(){var e=this,t=this.prevSection,a=this.nextSection,n=this.state,o=n.isLoading,i=n.value,s=n.results,c=n.warnings,l=n.interests;return r.a.createElement("div",{className:"AddInterests"},r.a.createElement((function(){return r.a.createElement(at.a,{percent:e.props.complete,progress:!0,indicating:!0,size:"medium"})}),null),r.a.createElement($.a,{active:this.state.loading},r.a.createElement(Q.a,{size:"massive"})),r.a.createElement("div",{className:"shapeAddInterests"}),r.a.createElement(te.a,{verticalAlign:"middle"},this.showWarnings(c),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Et,{interests:l,deleteInterest:this.deleteInterest}))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a,{verticalAlign:"middle",className:"TellOthersBox"},r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("h1",{className:"InterestsTitle"},"Tell others what do you like")),r.a.createElement(te.a.Row,{centered:!0,className:"TextInfoInterestsRow"},r.a.createElement("p",{className:"TextInfoInterests"},"Choose an existing interest increase your chances of match!")),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(yt.a,{icon:"hashtag",onKeyDown:this.handleKeyDown,size:"huge",loading:o,onResultSelect:this.handleResultSelect,onSearchChange:it.a.debounce(this.handleSearchChange,500,{leading:!0}),results:s,value:i,showNoResults:!1})),r.a.createElement(X.a,{hidden:!0})),r.a.createElement(te.a,null,r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle left",size:"huge",onClick:t}),r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle right",size:"huge",onClick:a}))))}}]),t}(n.Component),jt=a(338),Nt=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return null}}]),t}(r.a.Component),xt=Object(jt.geolocated)({positionOptions:{enableHighAccuracy:!1},userDecisionTimeout:5e3,suppressLocationOnMount:!1})(Nt),Rt=a(339),It=a.n(Rt),Mt=function(e){e.text;return r.a.createElement("div",null,r.a.createElement(Ee.a,{name:"map marker alternate",size:"big"}))},Pt={center:{lat:48.845289,lng:2.338674},defaultCenter:{lat:48.845289,lng:2.338674},zoom:11,innerRef:null},zt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state=Pt,a.updatePosition=function(){a.props.innerRef&&a.props.innerRef.state&&a.props.innerRef.state.coords&&a.setState({lat:a.props.innerRef.state.coords.latitude,lng:a.props.innerRef.state.coords.longitude},(function(){a.setState((function(e){return{center:Object(v.a)({},e.center,{lat:a.state.lat,lng:a.state.lng})}}))}))},a.updatePosition=a.updatePosition.bind(Object(ht.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState(Object(v.a)({},Pt))}},{key:"componentDidUpdate",value:function(e){_e()(this.props.innerRef,e.innerRef)||this.updatePosition()}},{key:"render",value:function(){var e=this.state,t=e.center,a=e.defaultCenter,n=e.zoom,o=e.lat,i=e.lng;return r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement("div",{id:"mapContent"},r.a.createElement(It.a,{bootstrapURLKeys:{key:"AIzaSyDMyRL-0tVdDqmG-aCpDaSsI0IbZqb7FQg"},defaultCenter:a,center:t,defaultZoom:n,className:"content"},r.a.createElement(Mt,{lat:o,lng:i,text:"Your location"}))))}}]),t}(n.Component),At={loading:!1,complete:0,innerRef:null},Ft=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidUpdate=function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.complete!==n.complete&&a._mounted&&a.setState({complete:t.complete}),t.loading!==n.loading&&a._mounted&&a.setState({loading:t.loading});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.getInnerRef=function(e){a.innerRef=e},a.prevSection=function(){a._mounted&&a.setState({loading:!0}),a.props.prevsection()},a.getLocation=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.innerRef&&a.innerRef.getLocation(),!(a.innerRef&&a._mounted&&a.innerRef.state&&a.innerRef.state.coords)){e.next=5;break}return a.innerRef&&a._mounted&&a.setState({innerRef:a.innerRef}),e.next=5,S(a.innerRef.state.coords.latitude,a.innerRef.state.coords.longitude).then((function(e){200===e.status&&he.store.addNotification({title:"Your position was successfully updated",message:"Start to match !",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){return console.log(e)}));case 5:case"end":return e.stop()}}),e)}))),a.state=Object(v.a)({},At),a.state.complete=a.props.complete,a.getInnerRef=a.getInnerRef.bind(Object(ht.a)(a)),a.getLocation=a.getLocation.bind(Object(ht.a)(a)),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.scrollTo(0,0),this._mounted=!0,this._mounted&&this.setState({loading:!0}),e.next=5,me(200);case 5:this._mounted&&this.setState({complete:this.props.complete}),this._mounted&&this.setState({loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.getInnerRef,t=this.getLocation,a=this.prevSection,n=this.state,o=n.complete,i=n.loading;return r.a.createElement("div",{className:"Location"},r.a.createElement($.a,{active:i},r.a.createElement(Q.a,{size:"massive"})),r.a.createElement(at.a,{percent:o,progress:!0,indicating:!0,size:"medium"}),r.a.createElement(te.a,{textAlign:"center"},r.a.createElement(te.a.Row,{centered:!0},r.a.createElement("h1",{className:"CompleteTitle"},"Add your location"))),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(xt,{ref:e}),r.a.createElement("div",{className:"shapeLastStep"}),r.a.createElement("div",{className:"WrapMap"},r.a.createElement(Re.a,null,r.a.createElement("div",{className:"mapAddLocation"},r.a.createElement(zt,{innerRef:this.state.innerRef})))),r.a.createElement(Re.a,{basic:!0,textAlign:"center"},r.a.createElement(ne.a,{onClick:t,className:"buttonLastStep",size:"big",content:"Geolocate my position"}),r.a.createElement(X.a,{horizontal:!0,id:"ordivider"},"Or"),r.a.createElement(ne.a,{onClick:this.props.useCustomAddress,className:"buttonLastStep",size:"big",content:"Use a custom address"})),r.a.createElement(te.a,null,r.a.createElement(X.a,{hidden:!0}),r.a.createElement(te.a.Row,{centered:!0},r.a.createElement(Ee.a,{className:"EditProfilArrow",name:"arrow circle left",size:"huge",onClick:a}))))}}]),t}(r.a.Component),Dt={section:1,complete:0,loading:!1},Lt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleNext=function(){U().then((function(e){a._mounted&&a.setState({complete:e.data.complete})})),a.setState({loading:!0,section:a.state.section+1})},a.handlePrev=function(){U().then((function(e){a._mounted&&a.setState({complete:e.data.complete})})),a.setState({loading:!0,section:a.state.section-1})},a.componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._mounted=!0,e.next=3,U().then((function(e){a._mounted&&a.setState({complete:e.data.complete})}));case 3:case"end":return e.stop()}}),e)}))),a.useCustomAddress=function(){a.props.history.push("/usecustomaddress")},a.state=Dt,a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var e=this.state.section;return 1===e?r.a.createElement("div",{className:"EditProfileContainer"},r.a.createElement(pt,{nextsection:this.handleNext,complete:this.state.complete,getcomplete:this.getComplete})):2===e?r.a.createElement("div",{className:"EditProfileContainer"},r.a.createElement(Ct,{prevsection:this.handlePrev,nextsection:this.handleNext,complete:this.state.complete,getcomplete:this.getComplete})):3===e?r.a.createElement("div",{className:"EditProfileContainer"},r.a.createElement(St,{prevsection:this.handlePrev,nextsection:this.handleNext,complete:this.state.complete,getcomplete:this.getComplete})):4===e?r.a.createElement("div",{className:"EditProfileContainer"},r.a.createElement(Ft,{prevsection:this.handlePrev,complete:this.state.complete,getcomplete:this.getComplete,useCustomAddress:this.useCustomAddress})):void 0}}]),t}(r.a.Component),Ut=new ge.a;var Bt=function(e){return function(t){function a(e){var t;return Object(u.a)(this,a),(t=Object(m.a)(this,Object(p.a)(a).call(this,e))).state={loading:!0,redirect:!1},t._mounted=!1,t}return Object(h.a)(a,t),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;this._mounted=!0,Ut.get("token")?B().then((function(t){if(200!==t.status)throw new Error(t.error);e._mounted&&e.setState({loading:!1})})).catch((function(){e._mounted&&e.setState({loading:!1,redirect:!0})})):this._mounted&&this.setState({loading:!1,redirect:!0})}},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"render",value:function(){var t=this.state,a=t.loading,n=t.redirect;return a?null:n?r.a.createElement(f.a,{to:"/login"}):r.a.createElement(e,this.props)}}]),a}(r.a.Component)},Tt=(a(640),a(340)),Ht=a(693),Wt=a(342),Gt=a(694),Vt=a(702),qt=a(696),Yt=a(698),Kt=(a(641),new ge.a),Zt=function(e){var t=function(t){function a(){return Object(u.a)(this,a),Object(m.a)(this,Object(p.a)(a).apply(this,arguments))}return Object(h.a)(a,t),Object(d.a)(a,[{key:"render",value:function(){var t=this.props,a=t.forwardRef,n=Object(Tt.a)(t,["forwardRef"]);return r.a.createElement(e,Object.assign({},n,{ref:a}))}}]),a}(r.a.Component),a=Object(f.g)(t,{withRef:!0});return r.a.forwardRef((function(e,t){return r.a.createElement(a,Object.assign({},e,{forwardRef:t}))}))}(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a._mounted=!0,!Kt.get("token")){e.next=4;break}return e.next=4,B().then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 200===t.status&&a.setState({connected:!0}),e.next=3,K().then((function(e){200===e.status&&a._mounted&&a.setState({notifNb:e.data.notifNb})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:a._mounted&&a.setState({activeItem:a.props.location.pathname});case 5:case"end":return e.stop()}}),e)}))),a.updateNotifNb=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K().then((function(e){200===e.status&&a._mounted&&a.setState({notifNb:e.data.notifNb})}));case 2:case"end":return e.stop()}}),e)}))),a.handleConnected=function(e){a.setState({connected:e})},a.handleItemClick=function(e,t){a.setState({activeItem:t},(function(){return a.redirect(t)}))},a.redirect=function(e){a.props.history.push(e)},a.disconnect=function(){Z().then((function(e){200===e.status&&(a._mounted&&a.setState({connected:!1}),a.props.history.push("/login"),a.props.logout())}))},a.isConnected=function(){var e=a.state.activeItem;return!1===a.state.connected?r.a.createElement(qe,null,r.a.createElement(Ht.a,null,r.a.createElement(Wt.a,{className:"/login"===e?Ae()("activeItemButton"):null,size:"md",id:"loginButton",variant:"outline-primary",onClick:function(){return a.handleItemClick(null,"/login")}},"Log in"),r.a.createElement(Wt.a,{className:"/signup"===e?Ae()("activeItemButton","mr-3"):"mr-3",id:"signupButton",variant:"outline-primary",onClick:function(){return a.handleItemClick(null,"/signup")}},"Sign up"))):r.a.createElement("div",null,r.a.createElement(Gt.a,{className:"mr-3"},r.a.createElement(Wt.a,{size:"md",variant:"outline-primary",onClick:a.disconnect},"Log out")))},a.showMenu=function(){var e=a.state,t=e.activeItem,n=e.notifNb,o=e.connected,i=r.a.createElement(qe,null,r.a.createElement(Ee.a,{size:"large",name:"user"}),r.a.createElement("span",{className:"itemMenu"},"Profile"));return!0===o?r.a.createElement(Vt.a,{className:"mr-auto"},r.a.createElement(Vt.a.Link,{className:"/"===t?"activeItem":null,onClick:function(){return a.handleItemClick(null,"/")}},r.a.createElement(Ee.a,{size:"large",name:"gratipay"}),r.a.createElement("span",{className:"itemMenu"},"Wall")),r.a.createElement(qt.a,{title:i,className:"/profile"===t?"activeItem":null},r.a.createElement(qt.a.Item,{onClick:function(){return a.handleItemClick(null,"/profile")}},"Edit my profile"),r.a.createElement(qt.a.Divider,null),r.a.createElement(qt.a.Item,{onClick:function(){return a.handleItemClick(null,"/changepassword")}},"Edit my password"),r.a.createElement(qt.a.Item,{onClick:function(){return a.handleItemClick(null,"/changemail")}},"Edit my mail")),r.a.createElement(Vt.a.Link,{className:"/messages"===t?"activeItem":null,redirect:"messages",onClick:function(){return a.handleItemClick(null,"/messages")}},r.a.createElement(Ee.a,{size:"large",name:"conversation"}),r.a.createElement("span",{className:"itemMenu"},"Messages")),r.a.createElement(Vt.a.Link,{className:"/notifications"===t?"activeItem":null,id:"/notifications",onClick:function(){return a.handleItemClick(null,"/notifications")}},r.a.createElement(Ee.a,{size:"large",name:"bell"}),r.a.createElement("div",{className:"badgecontainernotif"},r.a.createElement("span",{className:"itemMenu"},"Notifications"),n>0?r.a.createElement("span",{className:"badgenotif"},n):null))):null},a.state={activeItem:"",redirect:"",connected:!1,notifNb:0},a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.isConnected!==this.props.isConnected&&!0===this.props.isConnected&&K().then((function(e){200===e.status&&n._mounted&&n.setState({notifNb:e.data.notifNb,connected:!0})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"bootstrap-iso"},r.a.createElement("div",{className:"Menu"},r.a.createElement(Yt.a,{sticky:"top",collapseOnSelect:!0,expand:"sm"},r.a.createElement(Yt.a.Brand,{className:"ml-3",id:"/"},r.a.createElement("img",{src:"./../../img/MatchApp-Logo.png",height:"50",alt:"MatchApp Logo"})),r.a.createElement(Yt.a.Toggle,null),r.a.createElement(Yt.a.Collapse,null,this.showMenu(),r.a.createElement(Vt.a,null,r.a.createElement("div",{className:"ConnectionNav m-1"},this.isConnected()))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.location.pathname!==t.activeItem?{activeItem:e.location.pathname}:(e.isConnected!==t.isConnected&&!0===e.isConnected&&K().then((function(e){if(200===e.status)return{notifNb:e.data.notifNb,connected:!0}})),null)}}]),t}(r.a.Component)),Jt=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Footer"})}}]),t}(r.a.Component),$t=(a(645),a(349)),Qt=a.n($t),Xt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={userID:null},a.s_like=function(e){a.socket.connected&&a.socket.emit("like",e)},a.s_userlogin=function(){a.socket.connected&&a.socket.emit("userlogin")},a.s_logout=function(){a.socket.connected&&a.socket.emit("disconnectuser")},a.socket=Qt()("http://localhost:8000"),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"s_wallvisit",value:function(e){this.socket.connected&&this.socket.emit("wall:visit",e)}},{key:"s_like_likedback",value:function(e){this.socket.connected&&this.socket.emit("like:likedback",e)}},{key:"s_like_likedbackreturn",value:function(e){this.socket.connected&&this.socket.emit("like:likedbackreturn",e)}},{key:"s_like_unliked",value:function(e){this.socket.connected&&this.socket.emit("like:unlike",e)}},{key:"componentDidMount",value:function(){var e=this;this.socket.on("like:receive like",(function(t){e.props.updateNotifs(),he.store.addNotification({message:t.useremitter+" liked your profile",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})})),this.socket.on("wall:visit",(function(t){e.props.updateNotifs(),he.store.addNotification({message:t.useremitter+" visited your profile",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})})),this.socket.on("like:likedback",(function(t){e.props.updateNotifs(),e.s_like_likedbackreturn(parseInt(t.userIDemitter)),he.store.addNotification({message:t.useremitter+" like your profile back. It's a Match !",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})})),this.socket.on("like:likedbackreturn",(function(t){e.props.updateNotifs(),he.store.addNotification({title:"It's a Match!",message:"You and "+t.useremitter+" like each others.",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})})),this.socket.on("like:unlike",(function(t){e.props.updateNotifs(),he.store.addNotification({message:t.useremitter+" unlike your profile",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:5e3,onScreen:!0}})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"Notifications"},r.a.createElement(fe.a,null))}}]),t}(r.a.Component),ea=a(707),ta=a(699),aa=a(292),na=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a._mounted=!0,e.next=3,Y().then((function(e){200===e.status&&a._mounted&&a.setState({notifications:e.data.notifications})}));case 3:return e.next=5,L().then((function(e){200===e.status&&a._mounted&&a.setState({interests:e.data.interests})}));case 5:case"end":return e.stop()}}),e)}))),a.handleDismiss=function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a._mounted&&(a.state.notifications.splice(t,1),a._mounted&&a.setState({notifications:a.state.notifications},Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n);case 2:return e.next=4,a.props.updateNotifNb();case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.clickedUser=function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.props.sWallVisit(t),a.innerRefModal.current&&a.innerRefModal.current.loadUser(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.updateNotifs=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y().then(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200===t.status&&(a._mounted&&a.setState({notifications:t.data.notifications}),a.props.updateNotifNb());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))),a.state={notifications:[],userIdFocus:null,loading:!1,interests:[]},a._mounted=!1,a.innerRefModal=r.a.createRef(),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"renderSwitchType",value:function(e){switch(e){case 1:return"Visited your profile  ";case 2:return"Send you a message  ";case 3:return"Liked you back  ";case 4:return"Remove his like  ";case 5:return"Like your profile  ";default:return null}}},{key:"render",value:function(){var e=this,t=this.state,a=t.notifications,n=t.interests;return r.a.createElement(te.a,{columns:1,textAlign:"center"},r.a.createElement(Ue,{interests:n,s_like:this.props.s_like,s_like_unliked:this.props.s_like_unliked,s_like_likedback:this.props.s_like_likedback,ref:this.innerRefModal}),r.a.createElement(te.a.Column,{textAlign:"left",mobile:16,tablet:8,computer:8,largeScreen:8,widescreen:8},r.a.createElement("div",{className:"NotificationsTitle"},r.a.createElement(te.a.Row,null,r.a.createElement("h1",null,"Notifications history"))),r.a.createElement("div",{className:"NotificationsHistoric"},r.a.createElement(te.a.Row,null,r.a.createElement(ea.a.Group,{as:ta.a,duration:200,verticalAlign:"middle"},a.length<1?r.a.createElement("div",{className:"nothingtoshow"},r.a.createElement("p",null,"Nothing to show")):null,a.map((function(t,n){return r.a.createElement(ta.a.Item,{key:n},r.a.createElement(ta.a.Content,null,r.a.createElement(ta.a.Content,{floated:"right"},r.a.createElement(ne.a,{onClick:function(){return e.handleDismiss(n,t.notif_id)}},"Dismiss")),r.a.createElement(ee.a,{avatar:!0,src:t.img_link}),r.a.createElement(ta.a.Content,{as:"a",className:"NotifFirstname",onClick:function(){return e.clickedUser(t.user_id)}}," "," ",t.firstname),r.a.createElement(ta.a.Description,{className:"NotifDesc"},e.renderSwitchType(t.type),"on ",aa(t.date).fromNow())),n<a.length-1?r.a.createElement(X.a,null):null)})))))))}}]),t}(r.a.Component),ra={email:"",password:"",warnings:[],loading:!1,w_email:""},oa={w_email:""},ia=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).send=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.warnings=Object(v.a)({},oa),t=a.state.email,a._mounted&&a.setState({loading:!0}),e.next=5,me(300).then(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(t)||(a.warnings.w_email="Please enter a valid email"),pe(a.warnings)){e.next=6;break}return e.next=4,R(t).then((function(e){200===e.status&&he.store.addNotification({title:"Forgot Password",message:"A reset link as been sent",type:"warning",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}})})).catch((function(e){400===e.response.status&&a.setState({w_email:e.response.data.warnings})}));case 4:e.next=7;break;case 6:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 7:case"end":return e.stop()}}),e)}))));case 5:a._mounted&&a.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){var t=a.state.w_email;"email"===e.target.id&&t&&t.length>0&&a.setState({w_email:""}),a.setState(Object(g.a)({},e.target.id,e.target.value))},a.state=Object(v.a)({},ra),a.warnings=Object(v.a)({},oa),a._mounted=!1,a.params=null,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidMount",value:function(){this._mounted=!0,this.params=this.props.match.params}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.w_email;return r.a.createElement(J.a,{className:"loginModal"},r.a.createElement($.a,{active:a},r.a.createElement(Q.a,{size:"big"},"Request...")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ee.a,{className:"img-fluid",src:"/img/MatchApp-Logo.png",alt:"Responsive image",size:"medium",centered:!0}),r.a.createElement("div",{className:"loginWarnings"},r.a.createElement(re,{data:this.state.warnings})),r.a.createElement("div",{className:"shape"}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("h1",{className:"loginh1"},"Forgot Password"),r.a.createElement(re,null),r.a.createElement(ae.a,{className:"loginForm"},r.a.createElement(ae.a.Field,null,r.a.createElement(ae.a.Input,{error:n&&n.length>0?{content:n,pointing:"below"}:null,id:"email",icon:"users",iconPosition:"left",autoFocus:!0,onChange:this.handleChange,size:"huge",placeholder:"Email"})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ne.a,{className:"loginButton",loading:a,size:"huge",type:"submit",onClick:this.send},"Send reset link")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("div",{className:"loginNoAccount"},r.a.createElement("p",null,"No account ? ",r.a.createElement("a",{href:"# ",onClick:function(t){t.preventDefault(),e.props.history.push("/signup")}},"Register"))),r.a.createElement(X.a,{hidden:!0}))}}]),t}(r.a.Component),sa={password:"",passwordconfirm:"",warnings:[],loading:!1,w_password:"",w_passwordconfirm:""},ca={w_password:"",w_passwordconfirm:""},la=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).send=Object(l.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.warnings=Object(v.a)({},ca),t=a.state,n=t.password,r=t.passwordconfirm,a._mounted&&a.setState({loading:!0}),e.next=5,me(300).then(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(le(n)&&le(r)||(a.warnings.w_password="Please enter a strong password"),n!==r&&(a.warnings.w_passwordconfirm="Passwords are not the same"),pe(a.warnings)){e.next=7;break}return e.next=5,x(a.params.token,n,r).then((function(e){200===e.status&&he.store.addNotification({title:"Password updated",message:"Your password has been successfully updated",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}}),"undefined"!==typeof a.props.match.params.token&&a.props.history.push("/login")})).catch((function(e){400===e.response.status&&a.setState({w_password:e.response.data.warnings})}));case 5:e.next=8;break;case 7:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 8:case"end":return e.stop()}}),e)}))));case 5:a._mounted&&a.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){var t=a.state.w_password;"password"===e.target.id&&t&&t.length>0&&a.setState({w_password:""}),a.setState(Object(g.a)({},e.target.id,e.target.value))},a.state=Object(v.a)({},sa),a.warnings=Object(v.a)({},ca),a._mounted=!1,a.params=null,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidMount",value:function(){this._mounted=!0,this.params=this.props.match.params}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.w_password,o=t.w_passwordconfirm;return r.a.createElement(J.a,{className:"loginModal"},r.a.createElement($.a,{active:a},r.a.createElement(Q.a,{size:"big"},"Request...")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ee.a,{className:"img-fluid",src:"/img/MatchApp-Logo.png",alt:"Responsive image",size:"medium",centered:!0}),r.a.createElement("div",{className:"shape"}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("h1",{className:"loginh1"},"Change Password"),r.a.createElement(ae.a,{className:"loginForm"},r.a.createElement(ae.a.Field,{className:"inputPassword"},r.a.createElement(ae.a.Input,{error:n&&n.length>0?{content:n,pointing:"below"}:null,icon:"lock",iconPosition:"left",id:"password",onChange:this.handleChange,type:"password",size:"huge",placeholder:"Password"})),r.a.createElement(ae.a.Field,{className:"inputPassword"},r.a.createElement(ae.a.Input,{error:o&&o.length>0?{content:o,pointing:"below"}:null,icon:"lock",iconPosition:"left",id:"passwordconfirm",onChange:this.handleChange,type:"password",size:"huge",placeholder:"Confirm Password"})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ne.a,{className:"loginButton",loading:a,size:"huge",type:"submit",onClick:this.send},"Reset my password")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement((function(){return"undefined"!==typeof e.props.match.params.token?r.a.createElement("div",{className:"loginNoAccount"},r.a.createElement("p",{className:"loginForgot"},r.a.createElement("a",{href:"/forgotpassword"},r.a.createElement("strong",null,"Send a reset link"))),r.a.createElement("p",null,"No account ? ",r.a.createElement("a",{href:"/signup"},"Register"))):null}),null),r.a.createElement(X.a,{hidden:!0}))}}]),t}(r.a.Component),ua={email:"",emailconfirm:"",warnings:[],loading:!1,w_email:"",w_emailconfirm:""},da={w_email:"",w_emailconfirm:""},ma=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).send=Object(l.a)(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.warnings=Object(v.a)({},da),t=a.state,n=t.email,r=t.emailconfirm,a._mounted&&a.setState({loading:!0}),e.next=5,me(300).then(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce(n)||(a.warnings.w_email="Please enter a valid email"),ce(r)||(a.warnings.w_emailconfirm="Please enter a valid email"),n!==r&&(a.warnings.w_emailconfirm="Emails are not the same"),pe(a.warnings)){e.next=8;break}return e.next=6,j(n,r).then((function(e){200===e.status&&(he.store.addNotification({title:"Your email was successfully updated",message:"Please log in",type:"success",insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:1e4,onScreen:!0}}),a.props.history.push("/login"))})).catch((function(e){400===e.response.status&&a.setState({w_email:e.response.data.warnings})}));case 6:e.next=9;break;case 8:a._mounted&&a.setState(Object(v.a)({},a.warnings));case 9:case"end":return e.stop()}}),e)}))));case 5:a._mounted&&a.setState({loading:!1});case 6:case"end":return e.stop()}}),e)}))),a.handleChange=function(e){var t=a.state,n=t.w_email,r=t.w_emailconfirm;"email"===e.target.id&&n&&n.length>0&&a.setState({w_email:""}),"emailconfirm"===e.target.id&&r&&r.length>0&&a.setState({w_emailconfirm:""}),a.setState(Object(g.a)({},e.target.id,e.target.value))},a.state=Object(v.a)({},ua),a.warnings=Object(v.a)({},da),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.w_email,n=e.w_emailconfirm;return r.a.createElement(J.a,{className:"loginModal"},r.a.createElement($.a,{active:t},r.a.createElement(Q.a,{size:"big"},"Request...")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ee.a,{className:"img-fluid",src:"/img/MatchApp-Logo.png",alt:"Responsive image",size:"medium",centered:!0}),r.a.createElement("div",{className:"shape"}),r.a.createElement(X.a,{hidden:!0}),r.a.createElement("h1",{className:"loginh1"},"Change my email"),r.a.createElement(ae.a,{className:"loginForm"},r.a.createElement(ae.a.Field,{className:"inputPassword"},r.a.createElement(ae.a.Input,{error:a&&a.length>0?{content:a,pointing:"below"}:null,icon:"mail",iconPosition:"left",id:"email",onChange:this.handleChange,type:"email",size:"huge",placeholder:"New Email"})),r.a.createElement(ae.a.Field,{className:"inputPassword"},r.a.createElement(ae.a.Input,{error:n&&n.length>0?{content:n,pointing:"below"}:null,icon:"mail",iconPosition:"left",id:"emailconfirm",onChange:this.handleChange,type:"email",size:"huge",placeholder:"Confirm Email"})),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(ne.a,{className:"loginButton",loading:t,size:"huge",type:"submit",onClick:this.send},"Change my email")),r.a.createElement(X.a,{hidden:!0}),r.a.createElement(X.a,{hidden:!0}))}}]),t}(r.a.Component),pa=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).updateNotifs=function(){a.innerRefNotifHistory&&a.innerRefNotifHistory.current&&a.innerRefNotifHistory.current.updateNotifs(),a.innerRef&&a.innerRef.current.updateNotifNb()},a.updateNotifNbNavbar=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.innerRef&&a.innerRef.current.updateNotifNb();case 1:case"end":return e.stop()}}),e)}))),a.s_wallvisit=function(e){a.innerRefSockets&&a.innerRefSockets.current.s_wallvisit(e)},a.s_like_likedback=function(e){a.innerRefSockets&&a.innerRefSockets.current.s_like_likedback(e)},a.s_like_unliked=function(e){a.innerRefSockets&&a.innerRefSockets.current.s_like_unliked(e)},a.s_like=function(e){a.innerRefSockets&&a.innerRefSockets.current.s_like(e)},a.s_userlogin=function(){a.innerRefSockets&&a.innerRefSockets.current.s_userlogin()},a.s_logout=function(){a.innerRefSockets&&a.innerRefSockets.current.s_logout()},a.isConnected=function(e){a.innerRef&&a.innerRef.current.handleConnected(e)},a._mounted=!1,a.innerRef=r.a.createRef(),a.innerRefSockets=r.a.createRef(),a.innerRefNotifHistory=r.a.createRef(),a._mounted=!1,a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this._mounted=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Zt,{ref:this.innerRef,logout:this.s_logout}),r.a.createElement(Xt,{ref:this.innerRefSockets,updateNotifs:this.updateNotifs,push:!0}),r.a.createElement("div",{className:"content"},r.a.createElement(f.d,null,r.a.createElement(f.b,{exact:!0,path:"/",component:Bt((function(){return r.a.createElement($e,{sWallVisit:e.s_wallvisit,s_like_likedback:e.s_like_likedback,s_like_unliked:e.s_like_unliked,s_like:e.s_like})}))}),r.a.createElement(f.b,{exact:!0,path:"/profile",component:Bt(Lt)}),r.a.createElement(f.b,{exact:!0,path:"/signup",component:ye}),r.a.createElement(f.b,{exact:!0,path:"/forgotpassword/:token",component:la}),r.a.createElement(f.b,{exact:!0,path:"/forgotpassword",component:ia}),r.a.createElement(f.b,{exact:!0,path:"/changepassword",component:Bt(la)}),r.a.createElement(f.b,{exact:!0,path:"/changemail",component:Bt(ma)}),r.a.createElement(f.b,{exact:!0,path:"/notifications",component:Bt((function(){return r.a.createElement(na,{ref:e.innerRefNotifHistory,s_like_likedback:e.s_like_likedback,s_like_unliked:e.s_like_unliked,updateNotifNb:e.updateNotifNbNavbar,sWallVisit:e.s_wallvisit,s_like:e.s_like})}))}),r.a.createElement(f.b,{exact:!0,path:"/login",component:function(t){return r.a.createElement(tt,Object.assign({},t,{s_userlogin:e.s_userlogin,handleConnected:e.isConnected}))}}),r.a.createElement(f.b,{exact:!0,path:"/login/:token",component:tt}),r.a.createElement(f.a,{from:"*",to:""}))),r.a.createElement(Jt,null))}}]),t}(n.Component),ha=a(169);i.a.render(r.a.createElement(ha.a,null,r.a.createElement(pa,null)),document.getElementsByClassName("main")[0])}},[[361,1,2]]]);
//# sourceMappingURL=main.cad9ac62.chunk.js.map