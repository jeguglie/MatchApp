{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Route,Switch,Redirect}from\"react-router-dom\";import Signup from\"./components/Signup/Signup.js\";import Wall from'./containers/Wall/Wall';import Chat from'./containers/Chat/Chat';import Login from\"./components/Login/Login\";import EditProfile from\"./components/EditProfil/EditProfil\";import withAuth from\"./utils/withAuth\";import'./App.scss';import BootstrapMenu from'./components/Menu/BootstrapMenu';import Notifications from\"./components/Notifications/Notifications\";import NotificationsHistory from\"./components/Notifications/NotificationsHistory/NotificationsHistory\";import ForgotPassword from'./components/ForgotPassword/ForgotPassword';import ChangePassword from'./components/ForgotPassword/ChangePassword';import ChangeMyEmail from\"./components/EditProfil/ChangeMyMail/ChangeMyMail\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.updateNotifs=function(){_this.innerRefNotifHistory&&_this.innerRefNotifHistory.current&&_this.innerRefNotifHistory.current.updateNotifs();_this.innerRef&&_this.innerRef.current.updateNotifNb();};_this.updateNotifNbNavbar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.innerRef&&_this.innerRef.current.updateNotifNb();case 1:case\"end\":return _context.stop();}}},_callee);}));_this.s_message_send=function(to_user_id,message,timestamp){_this.innerRefSockets&&_this.innerRefSockets.current.s_message_send(to_user_id,message,timestamp);};_this.s_message_receive=function(message,user_id_emitter,user_id_receiver){_this.innerRefChat&&_this.innerRefChat.current.s_message_receive(message,user_id_emitter,user_id_receiver);};_this.s_wallvisit=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_wallvisit(userIdFocus);};_this.s_like_likedback=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like_likedback(userIdFocus);};_this.s_like_unliked=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like_unliked(userIdFocus);};_this.s_like=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like(userIdFocus);};_this.s_userlogin=function(){_this.innerRefSockets&&_this.innerRefSockets.current.s_userlogin();};_this.s_logout=function(){_this.innerRefSockets&&_this.innerRefSockets.current.s_logout();};_this.isConnected=function(bool){_this.innerRef&&_this.innerRef.current.handleConnected(bool);};_this._mounted=false;_this.innerRef=React.createRef();_this.innerRefChat=React.createRef();_this.innerRefSockets=React.createRef();_this.innerRefNotifHistory=React.createRef();_this._mounted=false;return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this._mounted=true;}// Notifications update\n},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(BootstrapMenu,{ref:this.innerRef,logout:this.s_logout}),React.createElement(Notifications,{ref:this.innerRefSockets,s_message_receive:this.s_message_receive,updateNotifs:this.updateNotifs,push:true}),React.createElement(\"div\",{className:\"content\"},React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:withAuth(function(){return React.createElement(Wall,{sWallVisit:_this2.s_wallvisit,s_like_likedback:_this2.s_like_likedback,s_like_unliked:_this2.s_like_unliked,s_like:_this2.s_like});})}),React.createElement(Route,{exact:true,path:\"/profile\",component:withAuth(EditProfile)}),React.createElement(Route,{exact:true,path:\"/signup\",component:Signup}),React.createElement(Route,{exact:true,path:\"/forgotpassword/:token\",component:ChangePassword}),React.createElement(Route,{exact:true,path:\"/forgotpassword\",component:ForgotPassword}),React.createElement(Route,{exact:true,path:\"/changepassword\",component:withAuth(ChangePassword)}),React.createElement(Route,{exact:true,path:\"/changemail\",component:withAuth(ChangeMyEmail)}),React.createElement(Route,{exact:true,path:\"/chat\",component:withAuth(function(){return React.createElement(Chat,{ref:_this2.innerRefChat,s_message_send:_this2.s_message_send,sWallVisit:_this2.s_wallvisit,s_like_likedback:_this2.s_like_likedback,s_like_unliked:_this2.s_like_unliked,s_like:_this2.s_like});})}),React.createElement(Route,{exact:true,path:\"/notifications\",component:withAuth(function(){return React.createElement(NotificationsHistory,{ref:_this2.innerRefNotifHistory,s_like_likedback:_this2.s_like_likedback,s_like_unliked:_this2.s_like_unliked,updateNotifNb:_this2.updateNotifNbNavbar,sWallVisit:_this2.s_wallvisit,s_like:_this2.s_like});})}),React.createElement(Route,{exact:true,path:\"/login\",component:function component(props){return React.createElement(Login,Object.assign({},props,{s_userlogin:_this2.s_userlogin,handleConnected:_this2.isConnected}));}}),React.createElement(Route,{exact:true,path:\"/login/:token\",component:Login}),React.createElement(Redirect,{from:\"*\",to:\"\"}))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/App.js"],"names":["React","Component","Route","Switch","Redirect","Signup","Wall","Chat","Login","EditProfile","withAuth","BootstrapMenu","Notifications","NotificationsHistory","ForgotPassword","ChangePassword","ChangeMyEmail","App","props","updateNotifs","innerRefNotifHistory","current","innerRef","updateNotifNb","updateNotifNbNavbar","s_message_send","to_user_id","message","timestamp","innerRefSockets","s_message_receive","user_id_emitter","user_id_receiver","innerRefChat","s_wallvisit","userIdFocus","s_like_likedback","s_like_unliked","s_like","s_userlogin","s_logout","isConnected","bool","handleConnected","_mounted","createRef"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch, Redirect} from \"react-router-dom\";\nimport Signup from \"./components/Signup/Signup.js\";\nimport Wall from './containers/Wall/Wall';\nimport Chat from './containers/Chat/Chat';\nimport Login from \"./components/Login/Login\";\nimport EditProfile from \"./components/EditProfil/EditProfil\";\nimport withAuth from \"./utils/withAuth\";\nimport './App.scss';\nimport BootstrapMenu from './components/Menu/BootstrapMenu';\nimport Notifications from \"./components/Notifications/Notifications\";\nimport NotificationsHistory from \"./components/Notifications/NotificationsHistory/NotificationsHistory\";\nimport ForgotPassword from './components/ForgotPassword/ForgotPassword';\nimport ChangePassword from './components/ForgotPassword/ChangePassword';\nimport ChangeMyEmail from \"./components/EditProfil/ChangeMyMail/ChangeMyMail\";\n\n\nclass App extends Component {\n\n    constructor(props) {\n        super(props);\n        this._mounted = false;\n        this.innerRef = React.createRef();\n        this.innerRefChat = React.createRef();\n        this.innerRefSockets = React.createRef();\n        this.innerRefNotifHistory = React.createRef();\n        this._mounted = false;\n    }\n\n    componentDidMount() { this._mounted = true }\n\n    // Notifications update\n    updateNotifs = () => {\n        this.innerRefNotifHistory && this.innerRefNotifHistory.current && this.innerRefNotifHistory.current.updateNotifs();\n        this.innerRef && this.innerRef.current.updateNotifNb();\n    };\n    updateNotifNbNavbar = async () => { this.innerRef && this.innerRef.current.updateNotifNb() };\n\n    // Chat Sockets\n    s_message_send = (to_user_id, message, timestamp) => { this.innerRefSockets && this.innerRefSockets.current.s_message_send(to_user_id, message, timestamp); };\n    s_message_receive = (message, user_id_emitter, user_id_receiver) => { this.innerRefChat && this.innerRefChat.current.s_message_receive(message, user_id_emitter, user_id_receiver) };\n\n    // Sockets\n    s_wallvisit = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_wallvisit(userIdFocus) };\n    s_like_likedback = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_like_likedback(userIdFocus) };\n    s_like_unliked = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_like_unliked(userIdFocus) };\n    s_like = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_like(userIdFocus) };\n    s_userlogin = () => { this.innerRefSockets && this.innerRefSockets.current.s_userlogin() };\n    s_logout = () => { this.innerRefSockets && this.innerRefSockets.current.s_logout() };\n\n    // Handle Connect\n    isConnected = (bool) => { this.innerRef && this.innerRef.current.handleConnected(bool) };\n\n    render() {\n        return (\n            <div>\n                <BootstrapMenu\n                    ref={this.innerRef}\n                    logout={this.s_logout}\n                />\n                <Notifications\n                    ref={this.innerRefSockets}\n                    s_message_receive={this.s_message_receive}\n                    updateNotifs={this.updateNotifs}\n                    push\n                />\n                <div className=\"content\">\n                    <Switch>\n                        <Route\n                            exact\n                            path=\"/\"\n                            component={withAuth(() =>\n                                <Wall\n                                    sWallVisit={this.s_wallvisit}\n                                    s_like_likedback={this.s_like_likedback}\n                                    s_like_unliked={this.s_like_unliked}\n                                    s_like={this.s_like} />)}\n                        />\n                        <Route exact path=\"/profile\" component={withAuth(EditProfile)}/>\n                        <Route exact path=\"/signup\" component={Signup}/>\n                        <Route exact path=\"/forgotpassword/:token\" component={ChangePassword}/>\n                        <Route exact path=\"/forgotpassword\" component={ForgotPassword}/>\n                        <Route exact path=\"/changepassword\" component={withAuth(ChangePassword)}/>\n                        <Route exact path=\"/changemail\" component={withAuth(ChangeMyEmail)}/>\n                        <Route\n                            exact\n                            path=\"/chat\"\n                            component={withAuth(() =>\n                                <Chat\n                                    ref={this.innerRefChat}\n                                    s_message_send={this.s_message_send}\n                                    sWallVisit={this.s_wallvisit}\n                                    s_like_likedback={this.s_like_likedback}\n                                    s_like_unliked={this.s_like_unliked}\n                                    s_like={this.s_like} />)}\n                        />\n                        <Route\n                            exact\n                            path=\"/notifications\"\n                            component={withAuth(() =>\n                            <NotificationsHistory ref={this.innerRefNotifHistory}\n                               s_like_likedback={this.s_like_likedback}\n                               s_like_unliked={this.s_like_unliked}\n                               updateNotifNb={this.updateNotifNbNavbar}\n                               sWallVisit={this.s_wallvisit}\n                               s_like={this.s_like} />)}\n                        />\n                        <Route\n                            exact\n                            path=\"/login\"\n                            component={ (props) =>\n                               <Login\n                                   {...props}\n                                   s_userlogin={this.s_userlogin}\n                                   handleConnected={this.isConnected} />}\n                        />\n                        <Route exact path={\"/login/:token\"} component={Login}/>\n                        <Redirect from=\"*\" to=\"\"/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}