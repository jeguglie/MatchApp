{"ast":null,"code":"var _jsxFileName = \"/Users/jv/Desktop/MatchApp/client/src/components/ModalChat/ModalChat.js\";\nimport React from 'react';\nimport { Form, Modal, Input, Divider, Icon } from 'semantic-ui-react';\nimport API from '../../utils/API';\n\nconst moment = require('moment');\n\nclass ModalChat extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOpen = user => {\n      this._mounted && this.setState({\n        showModal: true,\n        user: user\n      });\n    };\n\n    this.handleClose = () => {\n      this._mounted && this.setState({\n        showModal: false,\n        user: []\n      });\n    };\n\n    this.handleSend = async () => {\n      const message = this.innerRef.current.inputRef.current.value.toString();\n      const {\n        user_id\n      } = this.state;\n      await API.sendMessage(user_id, message).then(res => {\n        if (res.status === 200) this.addMessage(message, true);\n      }).catch();\n    };\n\n    this.addMessage = (message, bool) => {\n      console.log(1);\n    };\n\n    this._mounted = false;\n    this.state = {\n      showModal: false,\n      user: [],\n      messages: []\n    };\n    this.innerRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n  } // Outside Ref\n\n\n  render() {\n    const {\n      showModal,\n      user\n    } = this.state;\n\n    function userOnline() {\n      if (user.online) return React.createElement(\"span\", {\n        className: 'OnlineChat',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \" \", React.createElement(Icon, {\n        name: 'circle',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), \" \");else return React.createElement(\"span\", {\n        className: 'LastConnectionChat',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \" \", React.createElement(Icon, {\n        name: 'circle',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), \" \");\n    }\n\n    ;\n    return user ? React.createElement(Modal, {\n      className: 'ModalChat',\n      size: 'tiny',\n      open: showModal,\n      onClose: this.handleClose,\n      closeIcon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      className: 'HeaderChat',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, userOnline(), \" \", ' ', React.createElement(\"span\", {\n      className: 'chatUserBadge',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, user.firstname)), React.createElement(Divider, {\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(Modal.Content, {\n      scrolling: true,\n      className: 'ModalChatContent',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: 'inputChat',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSend,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Input, {\n      size: \"large\",\n      action: {\n        icon: 'send'\n      },\n      fluid: true,\n      ref: this.innerRef,\n      placeholder: \"Type a message...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }))))) : null;\n  }\n\n}\n\nexport default ModalChat;","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/components/ModalChat/ModalChat.js"],"names":["React","Form","Modal","Input","Divider","Icon","API","moment","require","ModalChat","Component","constructor","props","handleOpen","user","_mounted","setState","showModal","handleClose","handleSend","message","innerRef","current","inputRef","value","toString","user_id","state","sendMessage","then","res","status","addMessage","catch","bool","console","log","messages","createRef","componentDidMount","render","userOnline","online","firstname","icon"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Form, Modal, Input, Divider, Icon } from 'semantic-ui-react'\nimport API from '../../utils/API';\nconst moment = require('moment');\n\nclass ModalChat extends React.Component {\n    constructor(props){\n        super(props);\n        this._mounted = false;\n        this.state = {\n            showModal: false,\n            user: [],\n            messages: [],\n        };\n        this.innerRef = React.createRef();\n\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n    }\n\n    // Outside Ref\n    handleOpen = (user) => {this._mounted && this.setState({showModal: true, user: user})};\n    handleClose = () => {this._mounted && this.setState({showModal: false, user: []})};\n    handleSend = async() => {\n        const message = this.innerRef.current.inputRef.current.value.toString();\n        const { user_id } = this.state;\n        await API.sendMessage(user_id, message)\n            .then(res => {\n                if (res.status === 200)\n                    this.addMessage(message, true)\n            })\n            .catch()\n    };\n\n    addMessage = (message, bool) => {\n        console.log(1);\n    };\n    render(){\n        const { showModal, user } = this.state;\n        function userOnline() {\n            if (user.online)\n                return <span className={'OnlineChat'}> <Icon name={'circle'}/> </span>;\n            else\n                return <span className={'LastConnectionChat'}> <Icon name={'circle'}/> </span>\n        };\n        return (\n            user ?\n                <Modal\n                    className={'ModalChat'}\n                    size={'tiny'}\n                    open={showModal}\n                    onClose={this.handleClose}\n                    closeIcon>\n                    <Modal.Header className={'HeaderChat'}>\n                        {userOnline()} {' '}\n                        <span className={'chatUserBadge'}>{user.firstname}</span>\n                    </Modal.Header>\n                    <Divider hidden />\n                    <Modal.Content scrolling className={'ModalChatContent'}>\n                        <div className={'inputChat'}>\n                            <Form onSubmit={this.handleSend}>\n                                <Input\n                                    size='large'\n                                    action={{ icon: 'send' }}\n                                    fluid\n                                    ref={this.innerRef}\n                                    placeholder='Type a message...'\n                                />\n                            </Form>\n                        </div>\n                    </Modal.Content>\n                </Modal> : null\n        )\n    }\n}\n\nexport default ModalChat;"]},"metadata":{},"sourceType":"module"}