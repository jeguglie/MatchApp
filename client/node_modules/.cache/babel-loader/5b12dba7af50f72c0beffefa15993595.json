{"ast":null,"code":"var _jsxFileName = \"/Users/jeguglie/Desktop/MatchApp/client/src/components/fileUpload/fileUpload.js\";\nimport React from 'react';\nimport axios from 'axios';\nexport default class FileUpload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.imagesFilesUpload = async file => {\n      const fileSize = Math.round(file.size / 1024);\n      if (fileSize >= 4096) this.props.setWarnings([\"File is too big. Max limit is 4Mb\"]);else {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        const _ref = await axios.post(\"http://localhost:3000/user-profile\", formData, {\n          withCredentials: 'true'\n        }),\n              data = _ref.data;\n\n        if (data.warnings) this.props.setWarnings(data.warnings);\n      }\n      this.props.handleImageUpload();\n    };\n\n    this.onSubmit = () => {\n      if (this.state.file != null) {\n        this.imagesFilesUpload(this.state.file);\n        this.setState({\n          file: ''\n        });\n      }\n    };\n\n    this.simulateClick = e => {\n      e.click();\n    };\n\n    this.onFileChange = this.onFileChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.state = {\n      file: ''\n    };\n  }\n\n  onFileChange(e) {\n    // Add file to queue in state\n    this.setState({\n      file: e.target.files[0]\n    }, this.onSubmit);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"containerUpload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"file-upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"image-upload-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"file-upload-input\",\n      type: \"file\",\n      onChange: this.onFileChange,\n      accept: \"image/png, image/jpg, image/jpeg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"drag-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Drag and Drop \", React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"or\"), \" add file\")))));\n  }\n\n}","map":{"version":3,"sources":["/Users/jeguglie/Desktop/MatchApp/client/src/components/fileUpload/fileUpload.js"],"names":["React","axios","FileUpload","Component","constructor","props","imagesFilesUpload","file","fileSize","Math","round","size","setWarnings","formData","FormData","append","post","withCredentials","data","warnings","handleImageUpload","onSubmit","state","setState","simulateClick","e","click","onFileChange","bind","target","files","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,eAAe,MAAMC,UAAN,SAAyBF,KAAK,CAACG,SAA/B,CAAyC;AACpDC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAclBC,iBAdkB,GAcE,MAAOC,IAAP,IAAgB;AAChC,YAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAYH,IAAI,CAACI,IAAL,GAAY,IAAxB,CAAjB;AACA,UAAIH,QAAQ,IAAI,IAAhB,EACI,KAAKH,KAAL,CAAWO,WAAX,CAAuB,CAAC,mCAAD,CAAvB,EADJ,KAEK;AACD,cAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,QAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBR,IAAxB;;AAFC,qBAGc,MAAMN,KAAK,CAACe,IAAN,CAAW,oCAAX,EAAiDH,QAAjD,EAA2D;AAACI,UAAAA,eAAe,EAAE;AAAlB,SAA3D,CAHpB;AAAA,cAGMC,IAHN,QAGMA,IAHN;;AAID,YAAIA,IAAI,CAACC,QAAT,EACI,KAAKd,KAAL,CAAWO,WAAX,CAAuBM,IAAI,CAACC,QAA5B;AACP;AACD,WAAKd,KAAL,CAAWe,iBAAX;AACH,KA1BiB;;AAAA,SA2BlBC,QA3BkB,GA2BP,MAAM;AACb,UAAI,KAAKC,KAAL,CAAWf,IAAX,IAAmB,IAAvB,EAA6B;AACzB,aAAKD,iBAAL,CAAuB,KAAKgB,KAAL,CAAWf,IAAlC;AACA,aAAKgB,QAAL,CAAc;AAAChB,UAAAA,IAAI,EAAE;AAAP,SAAd;AACH;AACJ,KAhCiB;;AAAA,SAkClBiB,aAlCkB,GAkCDC,CAAD,IAAO;AACnBA,MAAAA,CAAC,CAACC,KAAF;AACH,KApCiB;;AAEd,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKP,QAAL,GAAgB,KAAKA,QAAL,CAAcO,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKN,KAAL,GAAa;AACTf,MAAAA,IAAI,EAAE;AADG,KAAb;AAGH;;AAEDoB,EAAAA,YAAY,CAACF,CAAD,EAAI;AACZ;AACA,SAAKF,QAAL,CAAc;AAAChB,MAAAA,IAAI,EAAEkB,CAAC,CAACI,MAAF,CAASC,KAAT,CAAe,CAAf;AAAP,KAAd,EAAyC,KAAKT,QAA9C;AACH;;AA2BDU,EAAAA,MAAM,GAAE;AACJ,WACI;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK;AACM,MAAA,SAAS,EAAC,mBADhB;AAEM,MAAA,IAAI,EAAC,MAFX;AAGM,MAAA,QAAQ,EAAE,KAAKJ,YAHrB;AAIM,MAAA,MAAM,EAAC,kCAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADL,EAMO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANP,EAOK;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAlB,cADJ,CAPL,CADJ,CADJ,CADJ;AAiBH;;AA1DmD","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nexport default class FileUpload extends React.Component {\n    constructor(props){\n        super(props);\n        this.onFileChange = this.onFileChange.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n        this.state = {\n            file: ''\n        };\n    }\n\n    onFileChange(e) {\n        // Add file to queue in state\n        this.setState({file: e.target.files[0]}, this.onSubmit);\n    }\n\n    imagesFilesUpload = async (file) => {\n        const fileSize = Math.round((file.size / 1024));\n        if (fileSize >= 4096)\n            this.props.setWarnings([\"File is too big. Max limit is 4Mb\"]);\n        else {\n            const formData = new FormData();\n            formData.append('file', file);\n            const {data} = await axios.post(\"http://localhost:3000/user-profile\", formData, {withCredentials: 'true'});\n            if (data.warnings)\n                this.props.setWarnings(data.warnings);\n        }\n        this.props.handleImageUpload();\n    };\n    onSubmit = () => {\n        if (this.state.file != null) {\n            this.imagesFilesUpload(this.state.file);\n            this.setState({file: ''});\n        }\n    };\n\n    simulateClick = (e) => {\n        e.click()\n    }\n\n\n    render(){\n        return (\n            <div className=\"containerUpload\">\n                <div className=\"file-upload\">\n                    <div className=\"image-upload-wrap\">\n                         <input\n                               className=\"file-upload-input\"\n                               type=\"file\"\n                               onChange={this.onFileChange}\n                               accept=\"image/png, image/jpg, image/jpeg\"\n                         /><br />\n                         <div className=\"drag-text\">\n                             <h3>Drag and Drop <strong>or</strong> add file</h3>\n                         </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}