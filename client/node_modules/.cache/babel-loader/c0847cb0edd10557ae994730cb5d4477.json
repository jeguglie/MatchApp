{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import{Route,Switch,Redirect}from\"react-router-dom\";import Signup from\"./components/Signup/Signup.js\";import Wall from'./containers/Wall/Wall';import Login from\"./components/Login/Login\";import EditProfile from\"./components/EditProfil/EditProfil\";import withAuth from\"./utils/withAuth\";import'./App.scss';import BootstrapMenu from'./components/Menu/BootstrapMenu';import Footer from'./containers/Footer/Footer';import Notifications from\"./components/Notifications/Notifications\";import NotificationsHistory from\"./components/Notifications/NotificationsHistory/NotificationsHistory\";import ForgotPassword from'./components/ForgotPassword/ForgotPassword';import ChangePassword from'./components/ForgotPassword/ChangePassword';import ChangeMyEmail from\"./components/EditProfil/ChangeMyMail/ChangeMyMail\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.updateNotifs=function(){_this.innerRefNotifHistory&&_this.innerRefNotifHistory.current&&_this.innerRefNotifHistory.current.updateNotifs();_this.innerRef&&_this.innerRef.current.updateNotifNb();};_this.updateNotifNbNavbar=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.innerRef&&_this.innerRef.current.updateNotifNb();case 1:case\"end\":return _context.stop();}}},_callee);}));_this.s_wallvisit=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_wallvisit(userIdFocus);};_this.s_like_likedback=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like_likedback(userIdFocus);};_this.s_like_unliked=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like_unliked(userIdFocus);};_this.s_like=function(userIdFocus){_this.innerRefSockets&&_this.innerRefSockets.current.s_like(userIdFocus);};_this.s_userlogin=function(){_this.innerRefSockets&&_this.innerRefSockets.current.s_userlogin();};_this.s_logout=function(){_this.innerRefSockets&&_this.innerRefSockets.current.s_logout();};_this.isConnected=function(bool){_this.innerRef&&_this.innerRef.current.handleConnected(bool);};_this._mounted=false;_this.innerRef=React.createRef();_this.innerRefSockets=React.createRef();_this.innerRefNotifHistory=React.createRef();_this._mounted=false;return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this._mounted=true;}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(BootstrapMenu,{ref:this.innerRef,logout:this.s_logout}),React.createElement(Notifications,{ref:this.innerRefSockets,updateNotifs:this.updateNotifs,push:true}),React.createElement(\"div\",{className:\"content\"},React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/\",component:withAuth(function(){return React.createElement(Wall,{sWallVisit:_this2.s_wallvisit,s_like_likedback:_this2.s_like_likedback,s_like_unliked:_this2.s_like_unliked,s_like:_this2.s_like});})}),React.createElement(Route,{exact:true,path:\"/profile\",component:withAuth(EditProfile)}),React.createElement(Route,{exact:true,path:\"/signup\",component:Signup}),React.createElement(Route,{exact:true,path:\"/forgotpassword/:token\",component:ChangePassword}),React.createElement(Route,{exact:true,path:\"/forgotpassword\",component:ForgotPassword}),React.createElement(Route,{exact:true,path:\"/changepassword\",component:withAuth(ChangePassword)}),React.createElement(Route,{exact:true,path:\"/changemail\",component:withAuth(ChangeMyEmail)}),React.createElement(Route,{exact:true,path:\"/notifications\",component:withAuth(function(){return React.createElement(NotificationsHistory,{ref:_this2.innerRefNotifHistory,s_like_likedback:_this2.s_like_likedback,s_like_unliked:_this2.s_like_unliked,updateNotifNb:_this2.updateNotifNbNavbar,sWallVisit:_this2.s_wallvisit,s_like:_this2.s_like});})}),React.createElement(Route,{exact:true,path:\"/login\",component:function component(props){return React.createElement(Login,Object.assign({},props,{s_userlogin:_this2.s_userlogin,handleConnected:_this2.isConnected}));}}),React.createElement(Route,{exact:true,path:\"/login/:token\",component:Login}),React.createElement(Redirect,{from:\"*\",to:\"\"}))),React.createElement(Footer,null));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/App.js"],"names":["React","Component","Route","Switch","Redirect","Signup","Wall","Login","EditProfile","withAuth","BootstrapMenu","Footer","Notifications","NotificationsHistory","ForgotPassword","ChangePassword","ChangeMyEmail","App","props","updateNotifs","innerRefNotifHistory","current","innerRef","updateNotifNb","updateNotifNbNavbar","s_wallvisit","userIdFocus","innerRefSockets","s_like_likedback","s_like_unliked","s_like","s_userlogin","s_logout","isConnected","bool","handleConnected","_mounted","createRef"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route, Switch, Redirect} from \"react-router-dom\";\nimport Signup from \"./components/Signup/Signup.js\";\nimport Wall from './containers/Wall/Wall';\nimport Login from \"./components/Login/Login\";\nimport EditProfile from \"./components/EditProfil/EditProfil\";\nimport withAuth from \"./utils/withAuth\";\nimport './App.scss';\nimport BootstrapMenu from './components/Menu/BootstrapMenu';\nimport Footer from './containers/Footer/Footer';\nimport Notifications from \"./components/Notifications/Notifications\";\nimport NotificationsHistory from \"./components/Notifications/NotificationsHistory/NotificationsHistory\";\nimport ForgotPassword from './components/ForgotPassword/ForgotPassword';\nimport ChangePassword from './components/ForgotPassword/ChangePassword';\nimport ChangeMyEmail from \"./components/EditProfil/ChangeMyMail/ChangeMyMail\";\n\n\nclass App extends Component {\n\n    constructor(props){\n        super(props);\n        this._mounted = false;\n        this.innerRef = React.createRef();\n        this.innerRefSockets = React.createRef();\n        this.innerRefNotifHistory = React.createRef();\n        this._mounted = false;\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n    }\n\n    updateNotifs = () => {\n        this.innerRefNotifHistory && this.innerRefNotifHistory.current && this.innerRefNotifHistory.current.updateNotifs();\n        this.innerRef && this.innerRef.current.updateNotifNb();\n    };\n    updateNotifNbNavbar = async() => { this.innerRef && this.innerRef.current.updateNotifNb() };\n\n\n    // Sockets\n    s_wallvisit = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_wallvisit(userIdFocus) };\n    s_like_likedback = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_like_likedback(userIdFocus) };\n    s_like_unliked = (userIdFocus) => { this.innerRefSockets && this.innerRefSockets.current.s_like_unliked(userIdFocus) };\n    s_like = (userIdFocus) => {this.innerRefSockets && this.innerRefSockets.current.s_like(userIdFocus)};\n    s_userlogin = () => { this.innerRefSockets && this.innerRefSockets.current.s_userlogin()};\n    s_logout = () => {this.innerRefSockets && this.innerRefSockets.current.s_logout()};\n\n    // Handle Connect\n    isConnected = (bool) => {this.innerRef && this.innerRef.current.handleConnected(bool)};\n\n    render() {\n        return (\n            <div>\n                <BootstrapMenu ref={this.innerRef} logout={this.s_logout} />\n                <Notifications ref={this.innerRefSockets} updateNotifs={this.updateNotifs} push/>\n                <div className=\"content\" >\n                    <Switch>\n                        <Route exact path=\"/\" component={withAuth(() => <Wall sWallVisit={this.s_wallvisit} s_like_likedback={this.s_like_likedback} s_like_unliked={this.s_like_unliked} s_like={this.s_like}/>)}/>\n                        <Route exact path=\"/profile\" component={withAuth(EditProfile)} />\n                        <Route exact path=\"/signup\" component={Signup} />\n                        <Route exact path=\"/forgotpassword/:token\" component={ChangePassword} />\n                        <Route exact path=\"/forgotpassword\" component={ForgotPassword} />\n                        <Route exact path=\"/changepassword\" component={withAuth(ChangePassword)} />\n                        <Route exact path=\"/changemail\" component={withAuth(ChangeMyEmail)} />\n                        <Route exact path=\"/notifications\" component={withAuth(() => <NotificationsHistory ref={this.innerRefNotifHistory} s_like_likedback={this.s_like_likedback} s_like_unliked={this.s_like_unliked} updateNotifNb={this.updateNotifNbNavbar} sWallVisit={this.s_wallvisit} s_like={this.s_like}/>)}/>\n                        <Route exact path=\"/login\" component={ (props) => <Login {...props} s_userlogin={this.s_userlogin} handleConnected={this.isConnected} />}  />\n                        <Route exact path={\"/login/:token\"} component={Login} />\n                        <Redirect from=\"*\" to=\"\" />\n                    </Switch>\n                </div>\n                <Footer />\n            </div>\n        );\n    }\n}\nexport default App;"]},"metadata":{},"sourceType":"module"}