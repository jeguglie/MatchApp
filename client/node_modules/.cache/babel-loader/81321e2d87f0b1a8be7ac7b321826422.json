{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{List,Button,Transition,Grid,Divider}from'semantic-ui-react';import API from'../../utils/API';var Admin=/*#__PURE__*/function(_React$Component){_inherits(Admin,_React$Component);function Admin(props){var _this;_classCallCheck(this,Admin);_this=_possibleConstructorReturn(this,_getPrototypeOf(Admin).call(this,props));_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this._mounted=true;_context.next=3;return API.admin().then(function(res){if(res.status===200)_this._mounted&&_this.setState({users:res.data.users});});case 3:case\"end\":return _context.stop();}}},_callee);}));_this.handleDismiss=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(i,user_id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(_this._mounted){_this.state.users.splice(i,1);_this._mounted&&_this.setState({users:_this.state.users},/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.kickuser(user_id);case 2:case\"end\":return _context2.stop();}}},_callee2);})));}case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.state={users:[]};_this._mounted=false;return _this;}_createClass(Admin,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._mounted=false;}},{key:\"render\",value:function render(){var _this2=this;var users=this.state.users;return React.createElement(Grid,{columns:1,textAlign:'center'},React.createElement(Grid.Column,{textAlign:'left',mobile:16,tablet:8,computer:8,largeScreen:8,widescreen:8},React.createElement(\"div\",{className:\"NotificationsTitle\"},React.createElement(Grid.Row,null,React.createElement(\"h1\",null,\"Reported users\"))),React.createElement(\"div\",{className:\"NotificationsHistoric\"},React.createElement(Grid.Row,null,React.createElement(Transition.Group,{as:List,duration:200,verticalAlign:\"middle\"},users.length<1?React.createElement(\"div\",{className:'nothingtoshow'},React.createElement(\"p\",null,\"Nothing to show\")):null,users.map(function(obj,i){return React.createElement(List.Item,{key:i},React.createElement(List.Content,null,React.createElement(List.Content,{floated:\"right\"},React.createElement(Button,{onClick:function onClick(){return _this2.handleDismiss(i,obj.user_id_reported);}},\"Dismiss\")),React.createElement(List.Content,{as:\"a\",className:\"NotifFirstname\"},' ',\" \",obj.user_id_reported)),i<users.length-1?React.createElement(Divider,null):null);}))))));}}]);return Admin;}(React.Component);export default Admin;","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/containers/Admin/Admin.js"],"names":["React","List","Button","Transition","Grid","Divider","API","Admin","props","componentDidMount","_mounted","admin","then","res","status","setState","users","data","handleDismiss","i","user_id","state","splice","kickuser","length","map","obj","user_id_reported","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {List, Button, Transition, Grid, Divider} from 'semantic-ui-react';\nimport API from '../../utils/API';\n\nclass Admin extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n           users: []\n        };\n        this._mounted = false;\n    }\n\n    componentDidMount = async() => {\n        this._mounted = true;\n        await API.admin()\n            .then(res => {\n                if (res.status === 200)\n                    this._mounted && this.setState({users: res.data.users})\n            });\n    };\n\n    componentWillUnmount() { this._mounted = false; }\n\n    handleDismiss = async(i, user_id) => {\n        if (this._mounted) {\n            this.state.users.splice(i, 1);\n            this._mounted && this.setState({users: this.state.users}, async() => { await API.kickuser(user_id) });\n        }\n    };\n\n    render(){\n        const { users} = this.state;\n        return (\n            <Grid columns={1} textAlign={'center'}>\n                <Grid.Column textAlign={'left'} mobile={16} tablet={8} computer={8} largeScreen={8} widescreen={8}>\n                    <div className='NotificationsTitle'>\n                        <Grid.Row>\n                            <h1>Reported users</h1>\n                        </Grid.Row>\n                    </div>\n                    <div className={\"NotificationsHistoric\"}>\n                        <Grid.Row>\n                            <Transition.Group\n                                as={List}\n                                duration={200}\n                                verticalAlign='middle'\n                            >\n                                {users.length < 1 ?\n                                    <div className={'nothingtoshow'}>\n                                        <p>Nothing to show</p>\n                                    </div> :\n                                    null\n                                }\n                                {users.map((obj, i) => (\n                                    <List.Item key={i}>\n                                        <List.Content>\n                                            <List.Content floated='right'>\n                                                <Button\n                                                    onClick={() => this.handleDismiss(i, obj.user_id_reported)}>\n                                                    Dismiss\n                                                </Button>\n                                            </List.Content>\n                                            <List.Content\n                                                as='a'\n                                                className={\"NotifFirstname\"}\n                                            >\n                                                {' '} {obj.user_id_reported}</List.Content>\n                                        </List.Content>\n                                        {i < users.length  - 1? <Divider /> : null}\n                                    </List.Item>\n                                ))}\n                            </Transition.Group>\n                        </Grid.Row>\n                    </div>\n                </Grid.Column>\n            </Grid>\n        )\n    }\n}\n\nexport default Admin;"]},"metadata":{},"sourceType":"module"}