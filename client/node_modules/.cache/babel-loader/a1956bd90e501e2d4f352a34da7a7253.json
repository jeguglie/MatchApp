{"ast":null,"code":"import _classCallCheck from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import ReactNotification from'react-notifications-component';import{store}from'react-notifications-component';import io from'socket.io-client';var Notifications=/*#__PURE__*/function(_React$Component){_inherits(Notifications,_React$Component);function Notifications(props){var _this;_classCallCheck(this,Notifications);_this=_possibleConstructorReturn(this,_getPrototypeOf(Notifications).call(this,props));_this.s_like=function(userIdFocus){_this.socket.connected&&_this.socket.emit(\"like\",userIdFocus);};_this.s_userlogin=function(token){_this.socket.connected&&_this.socket.emit(\"userlogin\",token);};_this.s_logout=function(){_this.socket.connected&&_this.socket.emit(\"disconnect\");};_this.state={userID:null};_this.socket=io('http://localhost:8000');_this._mounted=false;return _this;}_createClass(Notifications,[{key:\"s_message_send\",// Sockets chat\nvalue:function s_message_send(to_user_id,message){this.socket.connected&&this.socket.emit(\"message:send\",to_user_id,message);}},{key:\"s_wallvisit\",// Sockets\nvalue:function s_wallvisit(userIdFocus){this.socket.connected&&this.socket.emit(\"wall:visit\",userIdFocus);}},{key:\"s_like_likedback\",value:function s_like_likedback(userIdFocus){this.socket.connected&&this.socket.emit(\"like:likedback\",userIdFocus);}},{key:\"s_like_likedbackreturn\",value:function s_like_likedbackreturn(userIdFocus){this.socket.connected&&this.socket.emit(\"like:likedbackreturn\",userIdFocus);}},{key:\"s_like_unliked\",value:function s_like_unliked(userIdFocus){this.socket.connected&&this.socket.emit(\"like:unlike\",userIdFocus);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._mounted=false;}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this._mounted=true;this.socket.on(\"message:receive\",function(data){if(window.location.pathname!=='/chat'){_this2.props.updateNotifs();store.addNotification({message:data.useremitter+\" send you a message\",type:\"success\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});}_this2.props.s_message_receive(data.message,data.user_id_emitter,data.user_id_receiver);});this.socket.on(\"like:receive like\",function(data){_this2.props.updateNotifs();store.addNotification({message:data.useremitter+\" liked your profile\",type:\"success\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});});this.socket.on(\"wall:visit\",function(data){_this2.props.updateNotifs();store.addNotification({message:data.useremitter+\" visited your profile\",type:\"warning\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});});this.socket.on(\"like:likedback\",function(data){_this2.props.updateNotifs();_this2.s_like_likedbackreturn(parseInt(data.userIDemitter));store.addNotification({message:data.useremitter+\" like your profile back. It's a Match !\",type:\"success\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});});this.socket.on(\"like:likedbackreturn\",function(data){_this2.props.updateNotifs();store.addNotification({title:\"It's a Match!\",message:\"You and \"+data.useremitter+\" like each others.\",type:\"success\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});});this.socket.on(\"like:unlike\",function(data){_this2.props.updateNotifs();store.addNotification({message:data.useremitter+\" unlike your profile\",type:\"success\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});});}},{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"Notifications\"},React.createElement(ReactNotification,null));}}]);return Notifications;}(React.Component);export default Notifications;","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/components/Notifications/Notifications.js"],"names":["React","ReactNotification","store","io","Notifications","props","s_like","userIdFocus","socket","connected","emit","s_userlogin","token","s_logout","state","userID","_mounted","to_user_id","message","on","data","window","location","pathname","updateNotifs","addNotification","useremitter","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","s_message_receive","user_id_emitter","user_id_receiver","s_like_likedbackreturn","parseInt","userIDemitter","title","Component"],"mappings":"klBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+BAA9B,CACA,OAASC,KAAT,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,C,GACMC,CAAAA,a,mFAEF,uBAAYC,KAAZ,CAAkB,+CACjB,+EAAMA,KAAN,GADiB,MAclBC,MAdkB,CAcT,SAACC,WAAD,CAAiB,CAAC,MAAKC,MAAL,CAAYC,SAAZ,EAAyB,MAAKD,MAAL,CAAYE,IAAZ,CAAiB,MAAjB,CAAyBH,WAAzB,CAAzB,CAA+D,CAdxE,OAelBI,WAfkB,CAeJ,SAACC,KAAD,CAAW,CAAC,MAAKJ,MAAL,CAAYC,SAAZ,EAAyB,MAAKD,MAAL,CAAYE,IAAZ,CAAiB,WAAjB,CAA8BE,KAA9B,CAAzB,CAA8D,CAftE,OAgBlBC,QAhBkB,CAgBP,UAAM,CAAC,MAAKL,MAAL,CAAYC,SAAZ,EAAyB,MAAKD,MAAL,CAAYE,IAAZ,CAAiB,YAAjB,CAAzB,CAAwD,CAhBxD,CAEd,MAAKI,KAAL,CAAa,CAAEC,MAAM,CAAE,IAAV,CAAb,CACA,MAAKP,MAAL,CAAcL,EAAE,CAAC,uBAAD,CAAhB,CACA,MAAKa,QAAL,CAAgB,KAAhB,CAJc,aAKjB,C,kDAED;8BACeC,U,CAAYC,O,CAAQ,CAAC,KAAKV,MAAL,CAAYC,SAAZ,EAAyB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,cAAjB,CAAiCO,UAAjC,CAA6CC,OAA7C,CAAzB,CAA+E,C,qBACnH;2BACYX,W,CAAY,CAAC,KAAKC,MAAL,CAAYC,SAAZ,EAAyB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,YAAjB,CAA+BH,WAA/B,CAAzB,CAAqE,C,0DAC7EA,W,CAAY,CAAC,KAAKC,MAAL,CAAYC,SAAZ,EAAyB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,gBAAjB,CAAmCH,WAAnC,CAAzB,CAAyE,C,sEAChFA,W,CAAY,CAAC,KAAKC,MAAL,CAAYC,SAAZ,EAAyB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,sBAAjB,CAAyCH,WAAzC,CAAzB,CAA+E,C,sDACpGA,W,CAAY,CAAC,KAAKC,MAAL,CAAYC,SAAZ,EAAyB,KAAKD,MAAL,CAAYE,IAAZ,CAAiB,aAAjB,CAAgCH,WAAhC,CAAzB,CAAsE,C,mEAK3E,CACnB,KAAKS,QAAL,CAAgB,KAAhB,CACH,C,6DAEmB,iBAChB,KAAKA,QAAL,CAAgB,IAAhB,CACI,KAAKR,MAAL,CAAYW,EAAZ,CAAe,iBAAf,CAAkC,SAACC,IAAD,CAAU,CACxC,GAAIC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,GAA6B,OAAjC,CAA0C,CACtC,MAAI,CAAClB,KAAL,CAAWmB,YAAX,GACAtB,KAAK,CAACuB,eAAN,CAAsB,CAClBP,OAAO,CAAEE,IAAI,CAACM,WAAL,CAAmB,qBADV,CAElBC,IAAI,CAAE,SAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,SAAS,CAAE,WAJO,CAKlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CALK,CAMlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CANI,CAOlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CAPS,CAAtB,EAYH,CACL,MAAI,CAAC7B,KAAL,CAAW8B,iBAAX,CAA6Bf,IAAI,CAACF,OAAlC,CAA2CE,IAAI,CAACgB,eAAhD,CAAiEhB,IAAI,CAACiB,gBAAtE,EACH,CAjBG,EAkBJ,KAAK7B,MAAL,CAAYW,EAAZ,CAAe,mBAAf,CAAoC,SAACC,IAAD,CAAU,CAC1C,MAAI,CAACf,KAAL,CAAWmB,YAAX,GACAtB,KAAK,CAACuB,eAAN,CAAsB,CAClBP,OAAO,CAAEE,IAAI,CAACM,WAAL,CAAmB,qBADV,CAElBC,IAAI,CAAE,SAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,SAAS,CAAE,WAJO,CAKlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CALK,CAMlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CANI,CAOlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CAPS,CAAtB,EAYH,CAdD,EAeA,KAAK1B,MAAL,CAAYW,EAAZ,CAAe,YAAf,CAA6B,SAACC,IAAD,CAAU,CACnC,MAAI,CAACf,KAAL,CAAWmB,YAAX,GACAtB,KAAK,CAACuB,eAAN,CAAsB,CAClBP,OAAO,CAAEE,IAAI,CAACM,WAAL,CAAmB,uBADV,CAElBC,IAAI,CAAE,SAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,SAAS,CAAE,WAJO,CAKlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CALK,CAMlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CANI,CAOlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CAPS,CAAtB,EAYH,CAdD,EAeA,KAAK1B,MAAL,CAAYW,EAAZ,CAAe,gBAAf,CAAiC,SAACC,IAAD,CAAU,CACvC,MAAI,CAACf,KAAL,CAAWmB,YAAX,GACA,MAAI,CAACc,sBAAL,CAA4BC,QAAQ,CAACnB,IAAI,CAACoB,aAAN,CAApC,EACAtC,KAAK,CAACuB,eAAN,CAAsB,CAClBP,OAAO,CAAEE,IAAI,CAACM,WAAL,CAAmB,yCADV,CAElBC,IAAI,CAAE,SAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,SAAS,CAAE,WAJO,CAKlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CALK,CAMlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CANI,CAOlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CAPS,CAAtB,EAaH,CAhBD,EAiBA,KAAK1B,MAAL,CAAYW,EAAZ,CAAe,sBAAf,CAAuC,SAACC,IAAD,CAAU,CAC7C,MAAI,CAACf,KAAL,CAAWmB,YAAX,GACAtB,KAAK,CAACuB,eAAN,CAAsB,CAClBgB,KAAK,CAAE,eADW,CAElBvB,OAAO,CAAE,WAAaE,IAAI,CAACM,WAAlB,CAAgC,oBAFvB,CAGlBC,IAAI,CAAE,SAHY,CAIlBC,MAAM,CAAE,KAJU,CAKlBC,SAAS,CAAE,WALO,CAMlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CANK,CAOlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CAPI,CAQlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CARS,CAAtB,EAaH,CAfD,EAgBA,KAAK1B,MAAL,CAAYW,EAAZ,CAAe,aAAf,CAA8B,SAACC,IAAD,CAAU,CACpC,MAAI,CAACf,KAAL,CAAWmB,YAAX,GACAtB,KAAK,CAACuB,eAAN,CAAsB,CAClBP,OAAO,CAAEE,IAAI,CAACM,WAAL,CAAmB,sBADV,CAElBC,IAAI,CAAE,SAFY,CAGlBC,MAAM,CAAE,KAHU,CAIlBC,SAAS,CAAE,WAJO,CAKlBC,WAAW,CAAE,CAAC,UAAD,CAAa,QAAb,CALK,CAMlBC,YAAY,CAAE,CAAC,UAAD,CAAa,SAAb,CANI,CAOlBC,OAAO,CAAE,CACLC,QAAQ,CAAE,IADL,CAELC,QAAQ,CAAE,IAFL,CAPS,CAAtB,EAYH,CAdD,EAeH,C,uCAEQ,CACL,MACI,4BAAK,SAAS,CAAC,eAAf,EACI,oBAAC,iBAAD,MADJ,CADJ,CAKH,C,2BAlIuBlC,KAAK,CAAC0C,S,EAqIlC,cAAetC,CAAAA,aAAf","sourcesContent":["import React from 'react';\nimport ReactNotification from 'react-notifications-component';\nimport { store } from 'react-notifications-component';\nimport io from 'socket.io-client';\nclass Notifications extends React.Component {\n\n    constructor(props){\n     super(props);\n        this.state = { userID: null };\n        this.socket = io('http://localhost:8000');\n        this._mounted = false;\n    };\n\n    // Sockets chat\n    s_message_send(to_user_id, message){this.socket.connected && this.socket.emit(\"message:send\", to_user_id, message)};\n    // Sockets\n    s_wallvisit(userIdFocus){this.socket.connected && this.socket.emit(\"wall:visit\", userIdFocus)};\n    s_like_likedback(userIdFocus){this.socket.connected && this.socket.emit(\"like:likedback\", userIdFocus)};\n    s_like_likedbackreturn(userIdFocus){this.socket.connected && this.socket.emit(\"like:likedbackreturn\", userIdFocus)};\n    s_like_unliked(userIdFocus){this.socket.connected && this.socket.emit(\"like:unlike\", userIdFocus)};\n    s_like = (userIdFocus) => {this.socket.connected && this.socket.emit(\"like\", userIdFocus)};\n    s_userlogin = (token) => {this.socket.connected && this.socket.emit(\"userlogin\", token)};\n    s_logout = () => {this.socket.connected && this.socket.emit(\"disconnect\")};\n\n    componentWillUnmount() {\n        this._mounted = false;\n    }\n\n    componentDidMount() {\n        this._mounted = true;\n            this.socket.on(\"message:receive\", (data) => {\n                if (window.location.pathname !== '/chat') {\n                    this.props.updateNotifs();\n                    store.addNotification({\n                        message: data.useremitter + \" send you a message\",\n                        type: \"success\",\n                        insert: \"top\",\n                        container: \"top-right\",\n                        animationIn: [\"animated\", \"fadeIn\"],\n                        animationOut: [\"animated\", \"fadeOut\"],\n                        dismiss: {\n                            duration: 5000,\n                            onScreen: true\n                        }\n                    });\n                }\n            this.props.s_message_receive(data.message, data.user_id_emitter, data.user_id_receiver)\n        });\n        this.socket.on(\"like:receive like\", (data) => {\n            this.props.updateNotifs();\n            store.addNotification({\n                message: data.useremitter + \" liked your profile\",\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animated\", \"fadeIn\"],\n                animationOut: [\"animated\", \"fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n        });\n        this.socket.on(\"wall:visit\", (data) => {\n            this.props.updateNotifs();\n            store.addNotification({\n                message: data.useremitter + \" visited your profile\",\n                type: \"warning\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animated\", \"fadeIn\"],\n                animationOut: [\"animated\", \"fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n        });\n        this.socket.on(\"like:likedback\", (data) => {\n            this.props.updateNotifs();\n            this.s_like_likedbackreturn(parseInt(data.userIDemitter));\n            store.addNotification({\n                message: data.useremitter + \" like your profile back. It's a Match !\",\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animated\", \"fadeIn\"],\n                animationOut: [\"animated\", \"fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n\n        });\n        this.socket.on(\"like:likedbackreturn\", (data) => {\n            this.props.updateNotifs();\n            store.addNotification({\n                title: \"It's a Match!\",\n                message: \"You and \" + data.useremitter + \" like each others.\",\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animated\", \"fadeIn\"],\n                animationOut: [\"animated\", \"fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n        });\n        this.socket.on(\"like:unlike\", (data) => {\n            this.props.updateNotifs();\n            store.addNotification({\n                message: data.useremitter + \" unlike your profile\",\n                type: \"success\",\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animated\", \"fadeIn\"],\n                animationOut: [\"animated\", \"fadeOut\"],\n                dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                }\n            });\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"Notifications\">\n                <ReactNotification />\n            </div>\n        )\n    }\n}\n\nexport default Notifications;"]},"metadata":{},"sourceType":"module"}