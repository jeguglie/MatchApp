{"ast":null,"code":"import _objectSpread from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jv/Desktop/MatchApp/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import{withRouter}from\"react-router\";import UserMiniCard from\"../../components/UserMiniCard/UserMiniCard\";import API from'./../../utils/API';import InfiniteScroll from'react-infinite-scroller';import{Button,Grid,Divider,Icon}from\"semantic-ui-react\";import ModalUser from'../../components/ModalUser/ModalUser';import{store}from\"react-notifications-component\";import Filter from'./Filter/Filter';var DEFAULT_STATE={loadingModal:'',nextUsers:'',hasMoreContent:false,clear:false,users:[],warnings:[],loading:true,userView:false,userIdFocusLoading:null,interests:[],visible:false,aDescendant:false,dDescendant:false,distanceRange:250,ageRange:{min:18,max:27},popularityRange:{min:0,max:50}};var Wall=/*#__PURE__*/function(_React$Component){_inherits(Wall,_React$Component);function Wall(props){var _this;_classCallCheck(this,Wall);_this=_possibleConstructorReturn(this,_getPrototypeOf(Wall).call(this,props));_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this._mounted=true;_this._mounted&&_this.setState({loading:true});_context.next=4;return API.checkUserView().then(function(res){if(res.status===200){_this._mounted&&_this.setState({userView:true});_this.searchMatch(_this.state.distanceRange,_this.state.ageRange,_this.state.popularityRange);}}).catch(function(){store.addNotification({message:\"Please complete your profile\",type:\"info\",insert:\"top\",container:\"top-right\",animationIn:[\"animated\",\"fadeIn\"],animationOut:[\"animated\",\"fadeOut\"],dismiss:{duration:5000,onScreen:true}});_this.props.history.push('/profile');});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.searchMatch=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(distanceRange,ageRange,popularityRange){var users,nextUsers;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this._mounted&&_this.setState({loading:true});users=[];_context2.next=4;return API.getUsers(distanceRange,ageRange,popularityRange).then(function(response){if(response.status===200)users=response.data.users;});case 4:nextUsers=0;if(users.length>20)nextUsers=users.slice(21);_this._mounted&&_this.setState({nextUsers:nextUsers,users:users.slice(0,21),hasMoreContent:users.length>20});_this._mounted&&_this.setState({loading:false});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2,_x3){return _ref2.apply(this,arguments);};}();_this.clickedUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(userIdFocus){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// Send notification\n_this.props.sWallVisit(userIdFocus);// Inner Ref Modal\n_this.innerRefModal.current&&_this.innerRefModal.current.loadUser(userIdFocus);_this._mounted&&_this.setState({loadingMinCard:true,userIdFocusLoad:userIdFocus});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4){return _ref3.apply(this,arguments);};}();_this.handleBottomPage=function(){var _this$state=_this.state,nextUsers=_this$state.nextUsers,users=_this$state.users;if(nextUsers.length){for(var i=0;i<nextUsers.length&&i<=20;i++){users.push(nextUsers[i]);}_this._mounted&&_this.setState({users:users,nextUsers:nextUsers.slice(21)});}else _this._mounted&&_this.setState({hasMoreContent:false});};_this.ageFilter=function(){var aDescendant=_this.state.aDescendant;_this.setState({loading:true});_this.innerRef.current&&_this.innerRef.current.ageFilter(aDescendant);_this.setState({aDescendant:!aDescendant,loading:false});};_this.distanceFilter=function(){var dDescendant=_this.state.dDescendant;_this.setState({loading:true});_this.innerRef.current&&_this.innerRef.current.distanceFilter(dDescendant);_this.setState({dDescendant:!dDescendant,loading:false});};_this.state=_objectSpread({},DEFAULT_STATE);_this._mounted=false;_this.innerRefModal=React.createRef();_this.innerRef=React.createRef();return _this;}_createClass(Wall,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._mounted=false;}// Search button handle\n},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,hasMoreContent=_this$state2.hasMoreContent,loading=_this$state2.loading,users=_this$state2.users,aDescendant=_this$state2.aDescendant,dDescendant=_this$state2.dDescendant,userIdFocusLoad=_this$state2.userIdFocusLoad;var userscards=React.createElement(Grid.Column,null,React.createElement(Grid.Row,null,React.createElement(\"div\",{className:'ButtonFilters'},React.createElement(Button.Group,{size:'small',widths:3,fluid:true},React.createElement(Button,{onClick:this.ageFilter,icon:true,labelPosition:\"left\"},React.createElement(Icon,{name:aDescendant?'arrow down':'arrow up'}),\"Age\"),React.createElement(Button,{onClick:this.distanceFilter,icon:true,labelPosition:\"left\"},React.createElement(Icon,{name:dDescendant?'arrow down':'arrow up'}),\"Distance\"),React.createElement(Button,{onClick:function onClick(){return _this2.searchMatch(_this2.state.distanceRange,_this2.state.ageRange,_this2.state.popularityRange);},icon:true,labelPosition:\"left\"},React.createElement(Icon,{name:\"list ol\"}),\"Match\")))),React.createElement(Divider,{hidden:true}),React.createElement(Grid,{stackable:true},React.createElement(UserMiniCard,{userIdFocus:userIdFocusLoad,inner:true,users:users,ref:this.innerRef,clickedUser:this.clickedUser})));return React.createElement(\"div\",{className:\"WallContainer\"},React.createElement(ModalUser,{s_like:this.props.s_like,s_like_unliked:this.props.s_like_unliked,s_like_likedback:this.props.s_like_likedback,ref:this.innerRefModal}),React.createElement(Grid,{centered:true,columns:'equal',stackable:true},React.createElement(Filter,{loading:loading,searchMatch:function searchMatch(){return _this2.searchMatch(_this2.state.distanceRange,_this2.state.ageRange,_this2.state.popularityRange);}}),userscards),React.createElement(InfiniteScroll,{pageStart:0,loadMore:this.handleBottomPage,hasMore:hasMoreContent},\" \"));}}]);return Wall;}(React.Component);export default withRouter(Wall);","map":{"version":3,"sources":["/Users/jv/Desktop/MatchApp/client/src/containers/Wall/Wall.js"],"names":["React","withRouter","UserMiniCard","API","InfiniteScroll","Button","Grid","Divider","Icon","ModalUser","store","Filter","DEFAULT_STATE","loadingModal","nextUsers","hasMoreContent","clear","users","warnings","loading","userView","userIdFocusLoading","interests","visible","aDescendant","dDescendant","distanceRange","ageRange","min","max","popularityRange","Wall","props","componentDidMount","_mounted","setState","checkUserView","then","res","status","searchMatch","state","catch","addNotification","message","type","insert","container","animationIn","animationOut","dismiss","duration","onScreen","history","push","getUsers","response","data","length","slice","clickedUser","userIdFocus","sWallVisit","innerRefModal","current","loadUser","loadingMinCard","userIdFocusLoad","handleBottomPage","i","ageFilter","innerRef","distanceFilter","createRef","userscards","s_like","s_like_unliked","s_like_likedback","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from \"react-router\";\nimport UserMiniCard from \"../../components/UserMiniCard/UserMiniCard\";\nimport API from './../../utils/API';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { Button, Grid, Divider, Icon } from \"semantic-ui-react\";\nimport ModalUser from '../../components/ModalUser/ModalUser';\nimport { store } from \"react-notifications-component\";\nimport Filter from './Filter/Filter';\n\nconst DEFAULT_STATE = {\n    loadingModal: '',\n    nextUsers: '',\n    hasMoreContent: false,\n    clear: false,\n    users: [],\n    warnings: [],\n    loading: true,\n    userView: false,\n    userIdFocusLoading: null,\n    interests: [],\n    visible: false,\n    aDescendant: false,\n    dDescendant: false,\n    distanceRange: 250,\n    ageRange: {\n        min: 18,\n        max: 27,\n    },\n    popularityRange: {\n        min: 0,\n        max: 50,\n    },\n\n};\nclass Wall extends React.Component {\n\n    constructor(props){\n        super(props);\n        this.state = {...DEFAULT_STATE};\n        this._mounted = false;\n        this.innerRefModal = React.createRef();\n        this.innerRef = React.createRef();\n    }\n\n    componentDidMount = async() => {\n        this._mounted = true;\n        this._mounted && this.setState({loading: true});\n        await API.checkUserView()\n            .then(res => {\n                if (res.status === 200) {\n                    this._mounted && this.setState({userView: true});\n                    this.searchMatch(this.state.distanceRange, this.state.ageRange, this.state.popularityRange);\n                }\n            })\n            .catch( () => {\n                store.addNotification({\n                    message: \"Please complete your profile\",\n                    type: \"info\",\n                    insert: \"top\",\n                    container: \"top-right\",\n                    animationIn: [\"animated\", \"fadeIn\"],\n                    animationOut: [\"animated\", \"fadeOut\"],\n                    dismiss: {\n                        duration: 5000,\n                        onScreen: true\n                    }\n                });\n                this.props.history.push('/profile');\n            });\n    };\n\n    componentWillUnmount() {\n        this._mounted = false;\n    }\n\n    // Search button handle\n    searchMatch = async(distanceRange, ageRange, popularityRange) => {\n        this._mounted && this.setState({loading: true})\n        let users = [];\n        await API.getUsers(distanceRange, ageRange, popularityRange)\n            .then(response => {\n                if (response.status === 200)\n                    users = response.data.users;\n            });\n        let nextUsers = 0;\n        if(users.length > 20)\n           nextUsers = users.slice(21);\n        this._mounted && this.setState({\n            nextUsers: nextUsers,\n            users: users.slice(0, 21),\n            hasMoreContent: users.length > 20\n        });\n        this._mounted && this.setState({loading: false});\n\n    };\n\n\n    clickedUser = async(userIdFocus) => {\n        // Send notification\n        this.props.sWallVisit(userIdFocus);\n        // Inner Ref Modal\n        this.innerRefModal.current && this.innerRefModal.current.loadUser(userIdFocus);\n        this._mounted && this.setState({ loadingMinCard: true, userIdFocusLoad: userIdFocus});\n    };\n    handleBottomPage = () => {\n        const { nextUsers, users } = this.state;\n        if (nextUsers.length){\n            for (let i = 0; i < nextUsers.length && i <= 20; i++)\n                users.push(nextUsers[i]);\n            this._mounted && this.setState({users: users, nextUsers: nextUsers.slice(21)});\n        }\n        else\n            this._mounted && this.setState({hasMoreContent: false});\n    };\n    // Filters\n    ageFilter = () => {\n        const {aDescendant } = this.state;\n        this.setState({loading: true});\n        this.innerRef.current && this.innerRef.current.ageFilter(aDescendant);\n        this.setState({aDescendant: !aDescendant, loading: false});\n    };\n\n    distanceFilter = () => {\n        const {dDescendant } = this.state;\n        this.setState({loading: true});\n        this.innerRef.current && this.innerRef.current.distanceFilter(dDescendant);\n        this.setState({dDescendant: !dDescendant, loading: false});\n    };\n\n    render() {\n        const { hasMoreContent, loading, users, aDescendant, dDescendant, userIdFocusLoad} = this.state;\n        const userscards = (\n            <Grid.Column>\n                <Grid.Row>\n                    <div className={'ButtonFilters'}>\n                        <Button.Group size={'small'} widths={3} fluid>\n                            <Button\n                                onClick={this.ageFilter}\n                                icon\n                                labelPosition='left'>\n                                <Icon name={aDescendant ? 'arrow down' : 'arrow up'}/>Age</Button>\n                            <Button\n                                onClick={this.distanceFilter}\n                                icon\n                                labelPosition='left'>\n                                <Icon name={dDescendant ? 'arrow down' : 'arrow up'} />\n                                Distance\n                            </Button>\n                            <Button\n                                onClick={() => this.searchMatch(this.state.distanceRange, this.state.ageRange, this.state.popularityRange)}\n                                icon\n                                labelPosition='left'>\n                                <Icon name='list ol' />\n                                Match\n                            </Button>\n                        </Button.Group>\n                    </div>\n                </Grid.Row>\n                <Divider hidden/>\n                <Grid stackable >\n                    <UserMiniCard\n                        userIdFocus={userIdFocusLoad}\n                        inner\n                        users={users}\n                        ref={this.innerRef}\n                        clickedUser={this.clickedUser}\n                    />\n                </Grid>\n            </Grid.Column>\n        );\n\n        return (\n            <div className=\"WallContainer\">\n                <ModalUser s_like={this.props.s_like} s_like_unliked={this.props.s_like_unliked} s_like_likedback={this.props.s_like_likedback} ref={this.innerRefModal} />\n                <Grid centered columns={'equal'} stackable>\n                    <Filter loading={loading} searchMatch={() => this.searchMatch(this.state.distanceRange, this.state.ageRange, this.state.popularityRange)} />\n                    {userscards}\n                </Grid>\n                <InfiniteScroll\n                    pageStart={0}\n                    loadMore={this.handleBottomPage}\n                    hasMore={hasMoreContent}\n                > </InfiniteScroll>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(Wall);"]},"metadata":{},"sourceType":"module"}